var t,e,r,i,a,s,n,o,l,h,c,d,x,p,_,$,u,y,g,f,m,k,b,w,S,v,B,C,D,W,E,F,N,T,R,M,A,O,H,P,z,X,L,V,G,Q,U,I,j,q,J,K,Y,Z,tt,et,rt,it,at,st,nt,ot,lt,ht,ct,dt,xt,pt,_t,$t,ut,yt,gt,ft,mt,kt,bt,wt,St,vt,Bt,Ct,Dt,Wt,Et,Ft,Nt,Tt,Rt,Mt,At,Ot,Ht,Pt,zt,Xt,Lt,Vt,Gt,Qt,Ut,It,jt,qt,Jt,Kt,Yt,Zt,te,ee,re,ie,ae,se,ne,oe,le,he,ce,de,xe,pe,_e,$e,ue,ye,ge,fe,me,ke,be,we,Se,ve,Be,Ce,De,We,Ee,Fe,Ne,Te,Re,Me,Ae,Oe,He,Pe,ze,Xe,Le,Ve=Object.defineProperty,Ge=(t,e,r)=>(((t,e,r)=>{e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r),Qe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ue=(t,e,r)=>(Qe(t,e,"read from private field"),r?r.call(t):e.get(t)),Ie=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},je=(t,e,r)=>(Qe(t,e,"access private method"),r);import{a5 as qe,c as Je,_ as Ke,r as Ye,v as Ze,z as tr,A as er,w as rr,h as ir,S as ar,L as sr,u as nr,J as or,a6 as lr,a7 as hr}from"./vue-44d457eb.js";import{$ as cr}from"./jquery-dcda4d18.js";import{p as dr}from"./utils-32a4f046.js";import{E as xr,a as pr,b as _r,d as $r,e as ur}from"./element-plus-092601c7.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const r of t)if("childList"===r.type)for(const t of r.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();window.document.createSvgElement=t=>document.createElementNS("http://www.w3.org/2000/svg",t);const yr=qe("svg",()=>{const t=Ke({width:0,height:0}),e=Je(()=>t.height/2-100);return{size:t,maxHeight:e,updateSize:({width:e,height:r})=>{t.width=e,t.height=r}}}),gr=[{data:[{news_title:"再生稻，“再生”有道",org:["省农业科学院","省农业科学院test"],pre:["省农业科学院","省农业科学院test"],title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",org:["北大荒农业股份青龙山分公司"],pre:[],title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",org:["重庆陶义农业机械股份合作社"],pre:["李刚"],title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",org:[],pre:[],title:"市农业农村委相关负责人保"},{news_title:"做好盐碱地特色农业大文章",org:[],pre:[],title:"江苏宇航食品科技有限公司"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",org:["舒兰市农业技术推广中心","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春"],pre:["石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春"],title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津信丰农业公司"],pre:["肖西湖","陈咀村"],title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",org:["农业农村委"],pre:[],title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",org:["四川农业大学","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春"],pre:["雍太文","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春","石万春"],title:"四川农业大学教授雍太文表"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津市农业发展服务中心"],pre:["郭云峰"],title:"天津市农业发展服务中心副"}],time:"2023-08-11",total:5,ty:"发展"},{data:[{news_title:"梁平水稻耕种收综合机械化",org:["农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委","农业农村委"],pre:["罗春明"],title:"区农业技术服务中心副主任"},{news_title:"中国科学家克隆首个水稻显",org:["华中农业大学"],pre:["欧阳亦聃","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明","罗春明"],title:"华中农业大学水稻团队欧阳"}],time:"2023-08-14",total:2,ty:"发展"},{data:[{news_title:"重庆“农业硅谷”——<b",org:["重庆市农业科学院玉米研究所"],pre:["刘春英"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",org:["重庆市农业科学院玉米研究所"],pre:["刘春英"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",org:["农科院","重庆市潼南区农业农村委"],pre:["卓丽"],title:"现场观摩的重庆市潼南区农"},{news_title:"重庆“农业硅谷”——<b",org:["农科院","重庆市潼南区农业农村委"],pre:["卓丽"],title:"现场观摩的重庆市潼南区农"},{news_title:"河北扎实推进玉米单产提升",org:["河北省农业农村厅"],pre:[],title:"河北省农业农村厅强调扎实"}],time:"2023-08-15",total:5,ty:"爆发"},{data:[{news_title:"东北暴雨，水稻等粮食作物",org:["黑龙江省农业技术推广站"],pre:["杨微"],title:"黑龙江省农业技术推广站研"},{news_title:"研究揭示玉米有害突变的改",org:["Molecular Biology and Evolution","深圳农业基因组研究所","中国农业科学院"],pre:[],title:"中国农业科学院深圳农业基"},{news_title:"东北暴雨，水稻等粮食作物",org:["黑龙江省农业技术推广站"],pre:["杨微"],title:"黑龙江省农业技术推广站研"}],time:"2023-08-16",total:3,ty:"发展"},{data:[{news_title:"重庆：鲜食玉米串起致富产",org:["重庆市农业科学院玉米研究所"],pre:["柯剑鸿"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆：鲜食玉米串起致富产",org:["重庆敏兴农业科技有限公司"],pre:[],title:"重庆敏兴农业科技有限公司"},{news_title:"“我们正全力保障村里秋粮",org:[],pre:["齐海坤"],title:"齐海坤说村里的玉米地基本"}],time:"2023-08-17",total:3,ty:"发展"},{data:[{news_title:"鲜食玉米串起致富产业链",org:["重庆敏兴农业科技有限公司"],pre:[],title:"重庆敏兴农业科技有限公司"},{news_title:"鲜食玉米串起致富产业链",org:["重庆市农业科学院玉米研究所"],pre:["柯剑鸿"],title:"重庆市农业科学院玉米研究"}],time:"2023-08-18",total:2,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:["马磊"],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"常德市创全国再生稻头季高",org:["湖南农业大学","湖南省再生稻"],pre:["唐启源"],title:"湖南农业大学唐启源教授选"},{news_title:"东北三省灾后重建一线观察",org:["黑龙江省尚志市农业技术推广中心"],pre:[],title:"黑龙江省尚志市农业技术推"}],time:"2023-08-21",total:5,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:["马磊"],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"重庆稻米优质率提高至70",org:["南川区农业农村委","农科院水稻所"],pre:["李贤勇"],title:"市农科院水稻南川区农业农"},{news_title:"重庆稻米优质率提高至70",org:["南川区农业农村委","农科院水稻所"],pre:["李贤勇"],title:"市农科院水稻南川区农业农"}],time:"2023-08-22",total:5,ty:"发展"},{data:[{news_title:"吉林大米“天下粮仓”的品",org:["壹田农业"],pre:[],title:"壹田农业建立有机水稻全产"},{news_title:"吉林大米“天下粮仓”的品",org:["壹田农业"],pre:[],title:"壹田农业拥有4500亩优"},{news_title:"喜看稻菽千重浪，天府粮仓",org:["眉山职业技术学院","四川省农科院园艺所","四川农业大学水稻所"],pre:[],title:"东坡区岷江现代农业示范四"}],time:"2023-08-23",total:3,ty:"发展"},{data:[{news_title:"再生稻，“再生”有道",org:["省农业科学院"],pre:[],title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",org:["北大荒农业股份青龙山分公司"],pre:[],title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",org:["重庆陶义农业机械股份合作社"],pre:["李刚"],title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",org:["农业农村委"],pre:[],title:"市农业农村委相关负责人保"},{news_title:"做好盐碱地特色农业大文章",org:["江苏宇航食品科技有限公司"],pre:[],title:"江苏宇航食品科技有限公司"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",org:["舒兰市农业技术推广中心"],pre:["石万春"],title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津信丰农业公司"],pre:["肖西湖","陈咀村"],title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",org:["农业农村委"],pre:[],title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",org:["四川农业大学"],pre:["雍太文"],title:"四川农业大学教授雍太文表"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津市农业发展服务中心"],pre:["郭云峰"],title:"天津市农业发展服务中心副"}],time:"2023-08-11",total:5,ty:"发展"}],fr=[{data:[{news_title:"再生稻，“再生”有道",org:["省农业科学院","省农业科学院test"],pre:["省农业科学院","省农业科学院test"],title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",org:["北大荒农业股份青龙山分公司"],pre:[],title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",org:["重庆陶义农业机械股份合作社"],pre:["李刚"],title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",org:[],pre:[],title:"市农业农村委相关负责人保"},{news_title:"做好盐碱地特色农业大文章",org:["江苏宇航食品科技有限公司"],pre:[],title:"江苏宇航食品科技有限公司"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",org:["舒兰市农业技术推广中心"],pre:["石万春"],title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津信丰农业公司"],pre:["肖西湖","陈咀村"],title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",org:["农业农村委"],pre:[],title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",org:["四川农业大学"],pre:["雍太文"],title:"四川农业大学教授雍太文表"}],time:"2023-08-11",total:5,ty:"发展"},{data:[{news_title:"梁平水稻耕种收综合机械化",org:["农业农村委"],pre:["罗春明"],title:"区农业技术服务中心副主任"},{news_title:"中国科学家克隆首个水稻显",org:["华中农业大学"],pre:["欧阳亦聃"],title:"华中农业大学水稻团队欧阳"}],time:"2023-08-14",total:2,ty:"发展"},{data:[{news_title:"重庆“农业硅谷”——<b",org:["重庆市农业科学院玉米研究所"],pre:["刘春英"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",org:["重庆市农业科学院玉米研究所"],pre:["刘春英"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",org:["农科院","重庆市潼南区农业农村委"],pre:["卓丽"],title:"现场观摩的重庆市潼南区农"},{news_title:"重庆“农业硅谷”——<b",org:["农科院","重庆市潼南区农业农村委"],pre:["卓丽"],title:"现场观摩的重庆市潼南区农"}],time:"2023-08-15",total:5,ty:"爆发"},{data:[{news_title:"东北暴雨，水稻等粮食作物",org:["黑龙江省农业技术推广站"],pre:["杨微"],title:"黑龙江省农业技术推广站研"},{news_title:"研究揭示玉米有害突变的改",org:["Molecular Biology and Evolution","深圳农业基因组研究所"],pre:[],title:"中国农业科学院深圳农业基"},{news_title:"东北暴雨，水稻等粮食作物",org:["黑龙江省农业技术推广站"],pre:["杨微"],title:"黑龙江省农业技术推广站研"}],time:"2023-08-16",total:3,ty:"发展"},{data:[{news_title:"重庆：鲜食玉米串起致富产",org:["重庆市农业科学院玉米研究所"],pre:["柯剑鸿"],title:"重庆市农业科学院玉米研究"},{news_title:"重庆：鲜食玉米串起致富产",org:["重庆敏兴农业科技有限公司"],pre:[],title:"重庆敏兴农业科技有限公司"},{news_title:"“我们正全力保障村里秋粮",org:[],pre:["齐海坤"],title:"齐海坤说村里的玉米地基本"}],time:"2023-08-17",total:3,ty:"发展"},{data:[{news_title:"鲜食玉米串起致富产业链",org:["重庆敏兴农业科技有限公司"],pre:[],title:"重庆敏兴农业科技有限公司"},{news_title:"鲜食玉米串起致富产业链",org:["重庆市农业科学院玉米研究所"],pre:["柯剑鸿"],title:"重庆市农业科学院玉米研究"}],time:"2023-08-18",total:2,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:["马磊"],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"常德市创全国再生稻头季高",org:["湖南农业大学","湖南省再生稻"],pre:["唐启源"],title:"湖南农业大学唐启源教授选"}],time:"2023-08-21",total:5,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:["马磊"],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",org:["北大荒集团八五六农场有限公司农业技术推广中心"],pre:[],title:"北大荒集团八五六农场有限"},{news_title:"重庆稻米优质率提高至70",org:["南川区农业农村委","农科院水稻所"],pre:["李贤勇"],title:"市农科院水稻南川区农业农"}],time:"2023-08-22",total:5,ty:"发展"},{data:[{news_title:"吉林大米“天下粮仓”的品",org:["壹田农业"],pre:[],title:"壹田农业建立有机水稻全产"},{news_title:"吉林大米“天下粮仓”的品",org:["壹田农业"],pre:[],title:"壹田农业拥有4500亩优"},{news_title:"喜看稻菽千重浪，天府粮仓",org:["眉山职业技术学院","四川省农科院园艺所"],pre:[],title:"东坡区岷江现代农业示范四"}],time:"2023-08-23",total:3,ty:"发展"},{data:[{news_title:"再生稻，“再生”有道",org:["省农业科学院"],pre:[],title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",org:["北大荒农业股份青龙山分公司"],pre:[],title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",org:["重庆陶义农业机械股份合作社"],pre:["李刚"],title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",org:["农业农村委"],pre:[],title:"市农业农村委相关负责人保"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",org:["舒兰市农业技术推广中心"],pre:["石万春"],title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",org:["天津信丰农业公司"],pre:["肖西湖","陈咀村"],title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",org:["农业农村委"],pre:[],title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",org:["四川农业大学"],pre:["雍太文"],title:"四川农业大学教授雍太文表"}],time:"2023-08-11",total:5,ty:"发展"}],mr=[{data:[{news_title:"再生稻，“再生”有道",title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",title:"市农业农村委相关负责人保"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",title:"四川农业大学教授雍太文表"}],time:"2023-08-11",total:5,ty:"发展"},{data:[{news_title:"梁平水稻耕种收综合机械化",title:"区农业技术服务中心副主任"},{news_title:"中国科学家克隆首个水稻显",title:"华中农业大学水稻团队欧阳"}],time:"2023-08-14",total:2,ty:"发展"},{data:[{news_title:"重庆“农业硅谷”——<b",title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",title:"重庆市农业科学院玉米研究"},{news_title:"重庆“农业硅谷”——<b",title:"现场观摩的重庆市潼南区农"},{news_title:"重庆“农业硅谷”——<b",title:"现场观摩的重庆市潼南区农"}],time:"2023-08-15",total:5,ty:"爆发"},{data:[{news_title:"东北暴雨，水稻等粮食作物",title:"黑龙江省农业技术推广站研"},{news_title:"研究揭示玉米有害突变的改",title:"中国农业科学院深圳农业基"},{news_title:"东北暴雨，水稻等粮食作物",title:"黑龙江省农业技术推广站研"}],time:"2023-08-16",total:3,ty:"发展"},{data:[{news_title:"重庆：鲜食玉米串起致富产",title:"重庆市农业科学院玉米研究"},{news_title:"重庆：鲜食玉米串起致富产",title:"重庆敏兴农业科技有限公司"},{news_title:"“我们正全力保障村里秋粮",title:"齐海坤说村里的玉米地基本"}],time:"2023-08-17",total:3,ty:"发展"},{data:[{news_title:"鲜食玉米串起致富产业链",title:"重庆敏兴农业科技有限公司"},{news_title:"鲜食玉米串起致富产业链",title:"重庆市农业科学院玉米研究"}],time:"2023-08-18",total:2,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"常德市创全国再生稻头季高",title:"湖南农业大学唐启源教授选"}],time:"2023-08-21",total:5,ty:"发展"},{data:[{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"大粮仓里看年景——北大荒",title:"北大荒集团八五六农场有限"},{news_title:"重庆稻米优质率提高至70",title:"市农科院水稻南川区农业农"}],time:"2023-08-22",total:5,ty:"发展"},{data:[{news_title:"吉林大米“天下粮仓”的品",title:"壹田农业建立有机水稻全产"},{news_title:"吉林大米“天下粮仓”的品",title:"壹田农业拥有4500亩优"},{news_title:"喜看稻菽千重浪，天府粮仓",title:"东坡区岷江现代农业示范四"}],time:"2023-08-23",total:3,ty:"发展"},{data:[{news_title:"再生稻，“再生”有道",title:"省农业科学院水稻研究所开"},{news_title:"病虫害监测站筑起水稻病害",title:"北大荒农业股份青龙山分公"},{news_title:"重庆980万亩水稻陆续开",title:"重庆陶义农业机械股份合作"},{news_title:"重庆980万亩水稻陆续开",title:"市农业农村委相关负责人保"}],time:"2023-08-10",total:5,ty:"开始"},{data:[{news_title:"强化病虫害防控 促灾后恢",title:"舒兰市农业技术推广中心副"},{news_title:"武清区乡村振兴产业“鲜行",title:"陈咀村天津信丰农业公司总"},{news_title:"武清区乡村振兴产业“鲜行",title:"区农业农村委发展鲜食玉米"},{news_title:"亩产651.1公斤！",title:"四川农业大学教授雍太文表"}],time:"2023-08-11",total:5,ty:"发展"}],kr=t=>JSON.parse(JSON.stringify(t)),br=qe("data",()=>{yr();let t=Ke({value:[],update(t){this.value=t}}),e=Ke({switch:!1,org:[],pre:[],title:"",news_title:"",show({org:t,pre:e,title:r,news_title:i}){this.switch=!0,this.org=t,this.pre=e,this.title=r,this.news_title=i},close(){this.switch=!1,this.org=[],this.pre=[],this.title="",this.news_title=""}});return{current:Ke({value:0,update(t){this.value=t},include(t){return{is:this.value<=t&&t<=this.value+3,distence:t-this.value}},lastNeighbor(t){return{is:this.value-4<=t&&t<this.value,distence:this.value-t}},nextNeighbor(t){return{is:this.value+3<t&&t<=this.value+7,distence:t-this.value}}}),data:Ke({value:[],update(t){this.value=t},updatePart(t,e){this.value.splice(t,1,e)}}),detail:t,detailpanel:e}}),wr={stroke:6,w:10,h:32},Sr=(t=0,e=0)=>{const r=Boolean(t%2==0),i=Boolean(e%2==0);return r?i?2:1:i?3:4},vr=t=>t.map((t,e)=>{let r=0,i=0;return t.data.map((t,a)=>{const s=Sr(e,a);switch(t.height=60,s){case 1:case 2:[2].includes(s)?(r+=60,r===i&&(r+=30),t.addup=r):(i+=60,r===i&&(i+=30),t.addup=i);break;case 3:case 4:if([0,1].includes(a)){r=35,i=65,t.addup=0===a?r:i;break}[3].includes(s)?(r+=60,r===i&&(r+=30),t.addup=r):(i+=60,r===i&&(i+=30),t.addup=i)}return t}),t.height=Math.max(r,i)+40,t}),Br=(t,e,r="get")=>{const i=br(),a=kr(i.data.value)[t],s=Boolean(t%2);a.data.forEach((i,a)=>e!==a||"delete"===r?(i.org=[],void(i.pre=[])):(i.org=fr[t].data[e].org,void(i.pre=fr[t].data[e].pre)));let n=0,o=0;return a.data.map((i,a)=>{const s=Sr(t,a);let l=60;if(a===e){const t=i.org.length+i.pre.length;l="get"===r?32*t+106:60}switch(i.height=l,s){case 1:case 2:[2].includes(s)?(n+=l,n===o&&(n+=30),i.addup=n):(o+=l,n===o&&(o+=30),i.addup=o);break;case 3:case 4:if(0===a){i.addup=n=35,n+=l;break}if(1===a){i.addup=o=65,o+=l;break}[3].includes(s)?(i.addup=n,n+=l,n===o&&(n+=30)):(i.addup=o,o+=l,n===o&&(o+=30))}return i}),a.height=Math.max(n,o)+(s?0:40),a},Cr=(t,e,r="org",i="get")=>{const a=br(),s=kr(a.data.value)[t],n=Boolean(t%2);s.data[e][r]="get"===i?fr[t].data[e][r]:[];let o=0,l=0;return s.data.map((r,i)=>{const a=Sr(t,i);let s=60;switch(i===e&&(length=r.pre.length+r.org.length,s=32*length+106),r.height=s,a){case 1:l+=s,o===l&&(l+=30),r.addup=l;break;case 2:o+=s,o===l&&(o+=30),r.addup=o;break;case 3:case 4:if(0===i){r.addup=o=35,o+=s;break}if(1===i){r.addup=l=65,l+=s;break}[3].includes(a)?(r.addup=o,o+=s,o===l&&(o+=30)):(r.addup=l,l+=s,o===l&&(l+=30))}return r}),s.height=Math.max(o,l)+(n?0:40),s};function Dr(t){return cr(document.createElementNS("http://www.w3.org/2000/svg",t))}const Wr=async(t,e,r,i=5)=>new Promise((a,s)=>{try{e>t?Fr(t,e,r,i).then(a):Er(t,e,r,i).then(a)}catch(n){throw s(n),new Error(n)}}),Er=async(t,e,r,i)=>new Promise(a=>{let s=t;const n=()=>{s=Math.max(s-i,e);const t=r(s);s<=e?(cancelAnimationFrame(o),a(t)):o=requestAnimationFrame(n)};let o=requestAnimationFrame(n)}),Fr=(t,e,r,i)=>new Promise(a=>{const s=()=>{n=Math.min(n+i,e);const t=r(n);n>=e?(cancelAnimationFrame(o),a(t)):o=requestAnimationFrame(s)};let n=t,o=requestAnimationFrame(s)}),Nr=t=>Math.tan(t*Math.PI/180),Tr=(t,e,r=!0)=>{const{x:i,y:a}=t,s=a-25,n=a-23;return r?`M ${i} ${a} Q ${i-Math.min(e,20)} ${s} ${i-Math.min(e,45)} ${s} L ${i-e} ${s} ${i-e} ${n} ${i-Math.min(e,45)} ${n} Q ${i-Math.min(e,20)} ${n+2} ${i} ${a+15}`:`M ${i} ${a} Q ${i+Math.min(e,20)} ${s} ${i+Math.min(e,45)} ${s} L ${i+e} ${s} ${i+e} ${n} ${i+Math.min(e,45)} ${n} Q ${i+Math.min(e,20)} ${n+2} ${i} ${a+15}`},Rr=(t,e,r=!0)=>{const{x:i,y:a}=t,s=`${i+2} ${a}`;return`${`${i-2} ${a}`}, ${`${i+(r?-e:e)/Nr(75)} ${a+e}`}, ${s}`},Mr=(t,e,r)=>{const{x:i,y:a}=t;let[s,n]=[a+16,a+15],o="";switch(r){case 1:case 4:o=`M ${i} ${a} Q ${i+10} ${s} ${i+Math.min(e,30)} ${s} L ${i+e} ${s} ${i+e} ${n} ${i+Math.min(e,30)} ${n} Q ${i+10} ${n} ${i+5} ${a-2}`;break;case 2:case 3:o=`M ${i} ${a} Q ${i-10} ${s} ${i-Math.min(e,30)} ${s} L ${i-e} ${s} ${i-e} ${n} ${i-Math.min(e,30)} ${n} Q ${i-14} ${n} ${i-5} ${a+2}`}return o},Ar=(t,e,r=!0)=>{const{x:i,y:a}=t,s=`${i+2} ${a}`;return`${`${i-2} ${a}`},${`${i+(r?-e:e)/Nr(75)} ${a+e}`},${s}`},Or=(t,e,r)=>{const{x:i,y:a}=t;let s="";switch(r){case 1:case 4:s=`M ${i} ${a} Q ${i+2} ${a+17} ${i+Math.min(17,e)} ${a+17} L ${i+e} ${a+17} ${i+e} ${a+18} ${i+Math.min(17,e)} ${a+18} Q ${i+3} ${a+Math.min(19,e)} ${i} ${a+7}`;break;case 2:case 3:s=`M ${i} ${a} Q ${i-2} ${a+17} ${i-Math.min(17,e)} ${a+17} L ${i-e} ${a+17} ${i-e} ${a+18} ${i-Math.min(17,e)} ${a+18} Q ${i-3} ${a+Math.min(19,e)} ${i} ${a+7}`}return s},Hr=qe("tree",()=>({collection:Ye(new Map)}));class Pr{constructor(t){this.index=t,this.upper=Boolean(this.index%2==0),this.seedRoot={x:0,y:0},this.trunkRoot={x:0,y:0},this.svgStore=yr(),this.dataStore=br(),this.treeStore=Hr()}get info(){return this.dataStore.data.value[this.index]}get include(){return this.dataStore.current.include(this.index)}get lastNeighbor(){return this.dataStore.current.lastNeighbor(this.index)}get nextNeighbor(){return this.dataStore.current.nextNeighbor(this.index)}get lastLongNeighbor(){return this.index<this.dataStore.current.value-3}get nextLongNeighbor(){return this.index>this.dataStore.current.value+3}}class zr extends Pr{constructor(e){super(e),Ie(this,t),Ie(this,r),Ie(this,a),Ie(this,n),Ie(this,l),Ie(this,c),Ie(this,x),Ie(this,_),Ie(this,y),Ie(this,f),Ie(this,k),Ie(this,u,new Map)}init(){je(this,t,e).call(this),je(this,r,i).call(this)}reform(){je(this,t,e).call(this);for(let t=0;t<4;t++)cr(`#ripple_${this.index}_${t}`).remove();cr(`#tail_${this.index}`).remove(),cr(`#bubble_${this.index}`).remove(),cr(`#group_${this.index}`).remove(),cr(`#seed_${this.index}`).animate({cx:this.seedRoot.x})}}t=new WeakSet,e=function(){const{width:t,height:e}=this.svgStore.size,r=(t-1344)/2;switch(this.seedRoot.y=e/2,this.trunkRoot.y=this.upper?this.seedRoot.y-52:this.seedRoot.y+52,!0){case this.include.is:this.seedRoot.x=r+336*(this.include.distence+1),this.trunkRoot.x=this.seedRoot.x-163;break;case this.lastNeighbor.is:this.seedRoot.x=12*(4.5-this.lastNeighbor.distence);break;case this.nextNeighbor.is:this.seedRoot.x=this.svgStore.size.width-12*(7.5-this.nextNeighbor.distence);break;case this.lastLongNeighbor:this.seedRoot.x=-20;break;case this.nextLongNeighbor:this.seedRoot.x=this.svgStore.size.width+20}},r=new WeakSet,i=function(){const t=this;cr(document.createElementNS("http://www.w3.org/2000/svg","circle")).attr({id:`seed_${this.index}`,r:6}).css({cx:this.svgStore.size.width+20,cy:this.seedRoot.y,fill:"#fff",transition:"cx 0.6s ease-out",cursor:"pointer"}).appendTo("#screen").animate({cx:this.seedRoot.x}).on("click",function(){(t.nextNeighbor.is||t.lastNeighbor.is)&&t.dataStore.current.update(t.index)}).on("transitionend",function(){var e,r;t.include.is&&(je(e=t,a,s).call(e),je(r=t,n,o).call(r))})},a=new WeakSet,s=function(){if(this.include.is)for(let t=0;t<4;t++)cr(document.createElementNS("http://www.w3.org/2000/svg","circle")).attr({id:`ripple_${this.index}_${t}`,cx:this.seedRoot.x,cy:this.seedRoot.y}).addClass("ripple-animte").css({"animation-delay":.6*t+"s"}).insertBefore(`#seed_${this.index}`)},n=new WeakSet,o=function(){const t=cr(document.createElementNS("http://www.w3.org/2000/svg","polygon")).attr({id:`tail_${this.index}`,fill:"url(#tail-defs)"}).insertBefore(`#seed_${this.index}`);let e=!0;Wr(0,336,r=>{t.attr("points",((t,e)=>{const[r,i]=[Math.ceil(t.x),Math.ceil(t.y)];return`${r} ${i-3},${r} ${i+3},${r-e} ${i}`})(this.seedRoot,r)),e&&r>=168&&(e=!1,je(this,l,h).call(this))})},l=new WeakSet,h=function(){let{x:t,y:e}=this.seedRoot;t-=245,e+=this.upper?-42:10;const r=cr(document.createElementNS("http://www.w3.org/2000/svg","rect")).css({width:155,height:32,fill:"#3E507E",rx:8}),i=cr(document.createElementNS("http://www.w3.org/2000/svg","text")).attr({x:77,y:18}).addClass("bubble-text").text(`${this.info.time}(${this.info.ty})`);cr(document.createElementNS("http://www.w3.org/2000/svg","g")).attr({id:`bubble_${this.index}`,transform:`translate(${t}, ${e})`}).append(r).append(i).appendTo("#screen"),je(this,c,d).call(this),je(this,x,p).call(this)},c=new WeakSet,d=function(){cr(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("id",`group_${this.index}`).appendTo("#screen")},x=new WeakSet,p=function(){const t=Dr("polygon").attr({id:`trunk_${this.index}`}).css({fill:"url(#trunk-t-defs)"}).appendTo(`#group_${this.index}`);Wr(0,Math.min(this.info.height,this.svgStore.maxHeight),e=>{const{x:r,y:i}=this.trunkRoot;if(this.upper)return t.attr("points",`${r-5} ${i},  ${r+e/Nr(75)} ${i-e}, ${r+5} ${i}, ${r} ${i}`),void je(this,y,g).call(this,e);t.attr("points",`${r-5} ${i},  ${r+e/Nr(75)} ${i+e}, ${r+5} ${i}, ${r} ${i}`),je(this,y,g).call(this,e)}).then(()=>{Ue(this,u).clear(),je(this,k,b).call(this)}),je(this,_,$).call(this)},_=new WeakSet,$=function(){const t=this;this.info.data.forEach((e,r)=>{let i={x:this.trunkRoot.x+e.addup/Nr(75)};i.y=this.trunkRoot.y+(this.upper?-e.addup:e.addup);const a=Boolean(r%2==0),s=i.x+(a?-80:80),n=i.y-24;cr(document.createElementNS("http://www.w3.org/2000/svg","circle")).attr({id:`ball_${this.index}_${r}`}).css({cx:s,cy:n,r:6,fill:"url(#ball)",filter:"url(#ball-shadow)",cursor:"pointer"}).appendTo(`#group_${this.index}`).on("click",function(){cr(`#branch2_${t.index}_${r}`)[0]?(t.shrinkBranch(r),cr(this).css({fill:"url(#ball)",filter:"url(#ball-shadow)",strokeWidth:0,strok:"rgba(115,188,249,0.6)"})):(t.spreadBranch(r),cr(this).css({fill:"#020C1C",filter:"none",strokeWidth:1,stroke:"rgba(115,188,249,0.6)"}))})})},u=new WeakMap,y=new WeakSet,g=function(t){this.info.data.forEach((e,r)=>{if(Ue(this,u).has(r)||t<=e.addup)return;Ue(this,u).set(r,!0);let i={x:this.trunkRoot.x+e.addup/Nr(75)};i.y=this.trunkRoot.y+(this.upper?-e.addup:e.addup);const a=Boolean(r%2==0),s=cr(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("id",`branch1_${this.index}_${r}`).css({fill:a?"url(#br-one-lt-defs)":"url(#br-one-lrt-defs)"}).insertBefore(`#ball_${this.index}_${r}`);Wr(0,80,t=>{s.attr("d",Tr(i,t,a))},5).then(()=>{je(this,f,m).call(this,i,e,r)})})},f=new WeakSet,m=function(t,e,r){const i=Boolean(r%2==0);cr(document.createElementNS("http://www.w3.org/2000/svg","text")).attr({id:`title_${this.index}_${r}`,x:t.x+(i?-92:92),y:t.y-28}).css({fill:"#C4F8FF",strokeWidth:1,transformBox:"fill-box",transformOrigin:"0% 0%",transform:i?"translateX(-100%)":"none",font:"normal normal 500 14px / 14px Source Han Sans CN-Medium, Source Han Sans CN"}).text(e.title).appendTo(`#group_${this.index}`),cr(document.createElementNS("http://www.w3.org/2000/svg","text")).attr({id:`news_title_${this.index}_${r}`,x:t.x+(i?-92:92),y:t.y-8}).css({fill:"#fff",strokeWidth:1,transformBox:"fill-box",transformOrigin:"0% 0%",transform:i?"translateX(-100%)":"none",font:"normal normal 500 14px / 14px Source Han Sans CN-Medium, Source Han Sans CN"}).text(e.news_title).appendTo(`#group_${this.index}`)},k=new WeakSet,b=function(){let{x:t,y:e}=this.trunkRoot;const r=Math.min(this.info.height,this.svgStore.maxHeight);t+=r/Nr(75),e+=this.upper?-r:r;const i=Dr("g").attr({id:`more_${this.index}`,transform:`translate(${t-40}, ${this.upper?e-40:e+10})`}).css({cursor:"pointer"}).on("click",()=>{this.displayDetail()}),a=Dr("rect").attr({height:32,width:80,rx:20,fill:"#28438b"}),s=Dr("image").attr({x:14,y:8.5,preserveAspectRatio:"none",href:new URL(""+new URL("ico-two-right-arrow.2a4c478b.svg",import.meta.url).href,self.location)}),n=Dr("text").attr({fill:"#fff",x:50,y:22}).addClass("more-text").text("更多");i.append(a).append(s).append(n).appendTo(`#group_${this.index}`)};class Xr extends zr{constructor(t){super(t),Ie(this,w),Ie(this,v),Ie(this,C),Ie(this,W),Ie(this,F),Ie(this,T),Ie(this,M),Ie(this,O)}spreadBranch(t){const e=kr(this.info),r=e.height,i=Br(this.index,t,"get");this.dataStore.data.updatePart(this.index,i),je(this,w,S).call(this,r),this.info.data.forEach((r,i)=>{const a=Boolean(i%2==0),s=Sr(this.index,i),n={x:this.trunkRoot.x+r.addup/Nr(75),y:this.trunkRoot.y+([1,2].includes(s)?-r.addup:r.addup)};if(je(this,v,B).call(this,n,i),t===i){const t=je(this,C,D).call(this,n,i),e=je(this,W,E).call(this,t,i);je(this,F,N).call(this,e,i);const r={x:n.x+(a?-80:80)-3,y:n.y-24-1};Dr("rect").attr({id:`ball-ci_${this.index}_${i}`,height:2,width:6,rx:0,fill:"#73BCF9",cursor:"pointer",...r}).on("click",()=>{this.shrinkBranch(i)}).insertAfter(`#ball_${this.index}_${i}`)}else{cr(`#ball_${this.index}_${i}`).css({fill:"url(#ball)",filter:"url(#ball-shadow)",strokeWidth:0,strok:"rgba(115,188,249,0.6)"}),cr(`#ball-ci_${this.index}_${i}`).remove();const t=je(this,T,R).call(this,n,e,i);if(!t)return;const r=je(this,M,A).call(this,t,e,i);je(this,O,H).call(this,r,e,i)}})}}w=new WeakSet,S=function(t){Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:e,y:r}=this.trunkRoot;this.upper?cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r-t}, ${e+5} ${r}, ${e} ${r}`):cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r+t}, ${e+5} ${r}, ${e} ${r}`)})},v=new WeakSet,B=function(t,e){const r=Math.min(this.info.height,this.svgStore.maxHeight),i=this.trunkRoot.x+r/Nr(75),a=this.trunkRoot.y+(this.upper?-r:r);cr(`#more_${this.index}`).attr({transform:`translate(${i-40}, ${this.upper?a-40:a+10})`});const s=Boolean(e%2==0),n={cx:t.x+(s?-80:80),cy:t.y-24};cr(`#ball_${this.index}_${e}`).css(n),cr(`#branch1_${this.index}_${e}`).attr({d:Tr(t,80,s)}),cr(`#title_${this.index}_${e}`).attr({x:t.x+(s?-92:92),y:t.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:t.x+(s?-92:92),y:t.y-8})},C=new WeakSet,D=function(t,e){const r=Boolean(e%2==0),i={y:t.y-25,x:t.x+(r?-45:45)};let a=Dr("polygon").attr("id",`branch2_${this.index}_${e}`).css({fill:this.upper?"url(#br-two-t-defs)":"url(#br-two-b-defs)"}).appendTo(`#group_${this.index}`);return Wr(0,this.info.data[e].height-15,t=>{a.attr("points",Rr(i,t,this.upper)).show()}),i},W=new WeakSet,E=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)},s=gr[this.index].data[e].org,n=6*s.length.toString().length,o={x:a.x+(r?-71:65-n),y:a.y+9};Dr("rect").attr({id:`org_ball_${this.index}_${e}`}).css({...o,width:6+n,height:12,rx:6,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).appendTo(`#group_${this.index}`),Dr("text").attr({id:`org_ball_text_${this.index}_${e}`,x:o.x+3.5,y:o.y+9}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).text(s.length).insertAfter(`#org_ball_${this.index}_${e}`);let l=Dr("path").attr("id",`branchorg_${this.index}_${e}`).css({fill:r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(`#org_ball_${this.index}_${e}`);Wr(0,65,t=>{l.attr("d",Mr(a,t,i)).show()});const h={y:a.y+16,x:a.x+(r?-36:36)},c=this.info.data[e].org,d=32*c.length+12+15;let x=Dr("polygon").attr("id",`branchorg_${this.index}_${e}_trunk`).css({fill:this.upper?"url(#br-two-t-defs)":"url(#br-two-b-defs)"}).appendTo(`#group_${this.index}`);return Wr(0,d-15,t=>{x.attr("points",Ar(h,t,this.upper)).show()}).then(()=>{let t=a.x+(r?-75:75),i=a.y+20;Dr("text").attr({id:`branchorg_${this.index}_${e}_name`,x:t,y:i}).addClass("b-title").css({fill:"#A1DDFF",transform:r?"translateX(-100%)":"none",cursor:"pointer"}).text("组织").hover(function(){cr(this).css({fill:"#ec8a69"})},function(){cr(this).css({fill:"#A1DDFF"})}).on("click",()=>{this.navToDetail(e,"org")}).appendTo(`#group_${this.index}`)}),c.forEach((t,a)=>{const s=Dr("path").attr("id",`branchorg_${this.index}_${e}_${a}`).css({fill:"#254373"}).appendTo(`#group_${this.index}`),n=32*(a+.5),o={y:h.y+n,x:h.x+(this.upper?-n:n)/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(o,t,i))}).then(()=>{Dr("text").attr({id:`branchorg_${this.index}_${e}_${a}_text`,x:o.x+(r?-120:120)/Nr(75),y:o.y+21}).addClass("b-title").css({fill:"#fff",transform:r?"translateX(-100%)":"none"}).text(t).appendTo(`#group_${this.index}`)})}),a},F=new WeakSet,N=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a=32*this.info.data[e].org.length+12+15,s={y:t.y+a,x:t.x+(this.upper?-a:a)/Nr(75)},n=gr[this.index].data[e].pre,o=6*n.length.toString().length,l={x:s.x+(r?-71:65-o),y:s.y+9};Dr("rect").attr({id:`pre_ball_${this.index}_${e}`}).css({...l,rx:6,width:6+o,height:12,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).appendTo(`#group_${this.index}`),Dr("text").attr({id:`pre_ball_text_${this.index}_${e}`,x:l.x+3.5,y:l.y+9}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).text(n.length).insertAfter(`#pre_ball_${this.index}_${e}`);let h=Dr("path").attr("id",`branchpre_${this.index}_${e}`).css({fill:r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(`#pre_ball_${this.index}_${e}`);Wr(0,65,t=>{h.attr("d",Mr(s,t,i)).show()}).then(()=>{let t=s.x+(r?-75:75),i=s.y+20;Dr("text").attr({id:`branchpre_${this.index}_${e}_name`,x:t,y:i}).addClass("b-title").css({fill:"#A1DDFF",transform:r?"translateX(-100%)":"none",cursor:"pointer"}).hover(function(){cr(this).css({fill:"#ec8a69"})},function(){cr(this).css({fill:"#A1DDFF"})}).text("人员").on("click",()=>{this.navToDetail(e,"pre")}).appendTo(`#group_${this.index}`)});const c={y:s.y+16,x:s.x+(r?-36:36)},d=this.info.data[e].pre,x=32*d.length+12+15;let p=Dr("polygon").attr("id",`branchpre_${this.index}_${e}_trunk`).css({fill:this.upper?"url(#br-two-t-defs)":"url(#br-two-b-defs)"}).appendTo(`#group_${this.index}`);Wr(0,x-15,t=>{p.attr("points",Ar(c,t,this.upper)).show()}),d.forEach((t,a)=>{const s=Dr("path").attr("id",`branchpre_${this.index}_${e}_${a}`).css({fill:"#254373"}).appendTo(`#group_${this.index}`),n=32*(a+.5),o={y:c.y+n,x:c.x+(this.upper?-n:n)/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(o,t,i))}).then(()=>{Dr("text").attr({id:`branchpre_${this.index}_${e}_${a}_text`,x:o.x+(r?-120:120)/Nr(75),y:o.y+21}).addClass("b-title").css({fill:"#fff",transform:r?"translateX(-100%)":"none"}).text(t).appendTo(`#group_${this.index}`)})})},T=new WeakSet,R=function(t,e,r){const i=cr(`#branch2_${this.index}_${r}`);if(!i[0])return;const a=Boolean(r%2==0),s={y:t.y-25,x:t.x+(a?-45:45)};return Wr(e.data[r].height,0,t=>{i.attr("points",Rr(s,t,this.upper))}).then(()=>i.remove()),s},M=new WeakSet,A=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s=e.data[r].org,n={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)};cr(`#org_ball_${this.index}_${r}`).remove(),cr(`#org_ball_text_${this.index}_${r}`).remove(),cr(`#branchorg_${this.index}_${r}_name`).remove();const o=cr(`#branchorg_${this.index}_${r}`);Wr(67,0,t=>{o.attr("d",Mr(n,t,a))}).then(()=>o.remove());const l=32*s.length+12+15,h={y:n.y+16,x:n.x+(i?-36:36)},c=cr(`#branchorg_${this.index}_${r}_trunk`);return Wr(l,0,t=>{c.attr("points",Ar(h,t,this.upper))}).then(()=>c.remove()),null==s||s.forEach((t,e)=>{const i=32*(e+.5),s={y:h.y+i,x:h.x+(this.upper?-i:i)/Nr(75)};cr(`#branchorg_${this.index}_${r}_${e}_text`).remove();let n=cr(`#branchorg_${this.index}_${r}_${e}`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>cr(n).remove())}),n},O=new WeakSet,H=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s=32*e.data[r].org.length+12+15,n={y:t.y+s,x:t.x+(this.upper?-s:s/Nr(75))/Nr(75)};cr(`#pre_ball_${this.index}_${r}`).remove(),cr(`#pre_ball_text_${this.index}_${r}`).remove(),cr(`#branchpre_${this.index}_${r}_name`).remove();let o=cr(`#branchpre_${this.index}_${r}`);Wr(67,0,t=>{o.attr("d",Mr(n,t,a)).show()}).then(()=>o.remove());const l={y:n.y+16,x:n.x+(i?-36:36)},h=e.data[r].pre,c=32*h.length+12+15;let d=cr(`#branchpre_${this.index}_${r}_trunk`);Wr(c-15,0,t=>{d.attr("points",Ar(l,t,this.upper)).show()}).then(()=>d.remove()),h.forEach((t,e)=>{const i=cr(`#branchpre_${this.index}_${r}_${e}`),s=32*(e+.5),n={y:l.y+s,x:l.x+(this.upper?-s:s)/Nr(75)};cr(`#branchpre_${this.index}_${r}_${e}_text`).remove(),Wr(28,0,t=>{i.attr("d",Or(n,t,a))}).then(()=>i.remove())})};class Lr extends Xr{constructor(t){super(t),Ie(this,P),Ie(this,X),Ie(this,V),Ie(this,Q),Ie(this,I)}shrinkBranch(t){const e=kr(this.info),r=e.height,i=Br(this.index,t,"delete");this.dataStore.data.updatePart(this.index,i),je(this,P,z).call(this,r),je(this,X,L).call(this);const a=Sr(this.index,t),s=this.info.data[t].addup,n={x:this.trunkRoot.x+s/Nr(75),y:this.trunkRoot.y+([1,2].includes(a)?-s:s)};cr(`#ball-ci_${this.index}_${t}`).remove(),cr(`#ball_${this.index}_${t}`).css({fill:"url(#ball)",filter:"url(#ball-shadow)",strokeWidth:0,strok:"rgba(115,188,249,0.6)"});const o=je(this,V,G).call(this,n,e,t),l=je(this,Q,U).call(this,o,e,t);je(this,I,j).call(this,l,e,t)}}P=new WeakSet,z=function(t){Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:e,y:r}=this.trunkRoot;this.upper?cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r-t}, ${e+5} ${r}, ${e} ${r}`):cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r+t}, ${e+5} ${r}, ${e} ${r}`)})},X=new WeakSet,L=function(){const t=Math.min(this.info.height,this.svgStore.maxHeight),e=this.trunkRoot.x+t/Nr(75),r=this.trunkRoot.y+(this.upper?-t:t);cr(`#more_${this.index}`).attr({transform:`translate(${e-40}, ${this.upper?r-40:r+10})`}),this.info.data.forEach((t,e)=>{const r=Boolean(e%2==0),i=Sr(this.index,e),a={x:this.trunkRoot.x+t.addup/Nr(75)};switch(i){case 1:case 2:a.y=this.trunkRoot.y-t.addup;break;case 3:case 4:a.y=this.trunkRoot.y+t.addup}cr(`#ball_${this.index}_${e}`).css({cx:a.x+(r?-80:80),cy:a.y-24}),cr(`#branch1_${this.index}_${e}`).attr("d",Tr(a,80,r)),cr(`#title_${this.index}_${e}`).attr({x:a.x+(r?-92:92),y:a.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:a.x+(r?-92:92),y:a.y-8})})},V=new WeakSet,G=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=cr(`#branch2_${this.index}_${r}`);return Wr(e.data[r].height-15,0,t=>{s.attr("points",Rr(a,t,this.upper))}).then(()=>s.remove()),a},Q=new WeakSet,U=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)};cr(`#org_ball_${this.index}_${r}`).remove(),cr(`#org_ball_text_${this.index}_${r}`).remove();const n=cr(`#branchorg_${this.index}_${r}`);Wr(65,0,t=>{n.attr("d",Mr(s,t,a))}).then(()=>n.remove());const o=e.data[r].org,l=32*o.length+12+15;cr(`#branchorg_${this.index}_${r}_name`).remove();const h={y:s.y+16,x:s.x+(i?-36:36)},c=cr(`#branchorg_${this.index}_${r}_trunk`);return Wr(l,0,t=>{c.attr("points",Ar(h,t,this.upper))}).then(()=>c.remove()),null==o||o.forEach((t,e)=>{cr(`#branchorg_${this.index}_${r}_${e}_text`).remove();const i=32*(e+.5),s={y:h.y+i,x:h.x+(this.upper?-i:i)/Nr(75)};let n=cr(`#branchorg_${this.index}_${r}_${e}`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>cr(n).remove())}),s},I=new WeakSet,j=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s=32*e.data[r].org.length+12+15,n={y:t.y+s,x:t.x+(this.upper?-s:s)/Nr(75)};cr(`#pre_ball_${this.index}_${r}`).remove(),cr(`#pre_ball_text_${this.index}_${r}`).remove(),cr(`#branchpre_${this.index}_${r}_name`).remove();let o=cr(`#branchpre_${this.index}_${r}`);Wr(65,0,t=>{o.attr("d",Mr(n,t,a)).show()}).then(()=>o.remove());const l={y:n.y+16,x:n.x+(i?-36:36)},h=e.data[r].pre,c=32*h.length+12+15;let d=cr(`#branchpre_${this.index}_${r}_trunk`);Wr(c-15,0,t=>{d.attr("points",Ar(l,t,this.upper)).show()}).then(()=>d.remove()),h.forEach((t,e)=>{cr(`#branchpre_${this.index}_${r}_${e}_text`).remove();const i=32*(e+.5),s={y:l.y+i,x:l.x+(this.upper?-i:i)/Nr(75)},n=cr(`#branchpre_${this.index}_${r}_${e}`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>n.remove())})};class Vr extends Lr{constructor(t){super(t),Ie(this,q),Ie(this,K),Ie(this,Z),Ie(this,et),Ie(this,it)}spreadOrg(t){cr(`#org_ball_${this.index}_${t}`).off().on("click",()=>{this.shrinkOrg(t)});const e=kr(this.info),r=e.height,i=Cr(this.index,t,"org","get");this.dataStore.data.updatePart(this.index,i),je(this,q,J).call(this,r),je(this,K,Y).call(this),Sr(this.index,t);const a=this.info.data[t].addup,s={x:this.trunkRoot.x+a/Nr(75),y:this.trunkRoot.y+(this.upper?-a:a)},n=je(this,Z,tt).call(this,s,e,t),o=je(this,et,rt).call(this,n,t);je(this,it,at).call(this,o,t)}}q=new WeakSet,J=function(t){const e=cr(`#trunk_${this.index}`);Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:r,y:i}=this.trunkRoot;this.upper?e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i-t}, ${r+5} ${i}, ${r} ${i}`):e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i+t}, ${r+5} ${i}, ${r} ${i}`)})},K=new WeakSet,Y=function(){const t=Math.min(this.info.height,this.svgStore.maxHeight),e=this.trunkRoot.x+t/Nr(75),r=this.trunkRoot.y+(this.upper?-t:t);cr(`#more_${this.index}`).attr({transform:`translate(${e-40}, ${this.upper?r-40:r+10})`}),this.info.data.forEach((t,e)=>{const r=Boolean(e%2==0);Sr(this.index,e);const i={x:this.trunkRoot.x+t.addup/Nr(75),y:this.trunkRoot.y+(this.upper?-t.addup:t.addup)},a={cx:i.x+(r?-80:80),cy:i.y-24};cr(`#ball_${this.index}_${e}`).css(a),cr(`#ball-ci_${this.index}_${e}`).attr({x:a.cx-3,y:a.cy-1}),cr(`#branch1_${this.index}_${e}`).attr("d",Tr(i,80,r)),cr(`#title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-8})})},Z=new WeakSet,tt=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=cr(`#branch2_${this.index}_${r}`);return Wr(e.data[r].height-15,this.info.data[r].height-15,t=>{s.attr("points",Rr(a,t,this.upper))}),a},et=new WeakSet,rt=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)},s=6*gr[this.index].data[e].org.length.toString().length,n={x:a.x+(r?-71:65-s),y:a.y+9};cr(`#org_ball_${this.index}_${e}`).css(n);const o={x:n.x+3.5,y:n.y+9};cr(`#org_ball_text_${this.index}_${e}`).attr(o).off().on("click",()=>{this.shrinkOrg(e)}),cr(`#branchorg_${this.index}_${e}`).attr("d",Mr(a,67,i));const l={y:a.y+20,x:a.x+(r?-75:75)};cr(`#branchorg_${this.index}_${e}_name`).attr(l);const h=this.info.data[e].org,c=32*h.length+12+15,d={y:a.y+16,x:a.x+(r?-36:36)};let x=cr(`#branchorg_${this.index}_${e}_trunk`);return Wr(12,c-15,t=>{x.attr("points",Ar(d,t,this.upper))}),null==h||h.forEach((t,a)=>{const s=32*(a+.5),n={y:d.y+s,x:d.x+(this.upper?-s:s)/Nr(75)},o=cr(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("id",`branchorg_${this.index}_${e}_${a}`).css({fill:"#254373"}).appendTo(`#group_${this.index}`);Wr(0,28,t=>{o.attr("d",Or(n,t,i))}).then(()=>{cr(document.createElementNS("http://www.w3.org/2000/svg","text")).attr({id:`branchorg_${this.index}_${e}_${a}_text`,x:n.x+(r?-120:120)/Nr(75),y:n.y+21}).css({fontSize:14,fill:"#fff",strokeWidth:1,transformBox:"fill-box",transformOrigin:"0% 0%",transform:r?"translateX(-100%)":"none",font:"normal normal 500 14px / 14px Source Han Sans CN - Medium, Source Han Sans CN"}).text(t).appendTo(`#group_${this.index}`)})}),a},it=new WeakSet,at=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a=32*this.info.data[e].org.length+12+15,s={y:t.y+a,x:t.x+(this.upper?-a:a)/Nr(75)},n={x:s.x+(r?-75:75),y:s.y+20},o=6*gr[this.index].data[e].org.length.toString().length,l={x:s.x+(r?-71:65-o),y:s.y+9};cr(`#pre_ball_${this.index}_${e}`).css(l),cr(`#pre_ball_text_${this.index}_${e}`).attr({x:l.x+3.5,y:l.y+9}),cr(`#pre_ball-ci_${this.index}_${e}`).attr({x:s.x+(r?-65:65)-3,y:s.y+16-1}),cr(`#branchpre_${this.index}_${e}`).attr("d",Mr(s,67,i)),cr(`#branchpre_${this.index}_${e}_name`).attr(n);const h={y:s.y+16,x:s.x+(r?-36:36)},c=this.info.data[e].pre,d=32*c.length+12+15;cr(`#branchpre_${this.index}_${e}_trunk`).attr("points",Ar(h,d-15,this.upper)),c.forEach((t,a)=>{const s=32*(a+.5),n={y:h.y+s,x:h.x+(this.upper?-s:s)/Nr(75)};cr(`#branchpre_${this.index}_${e}_${a}_text`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21}),cr(`#branchpre_${this.index}_${e}_${a}`).attr("d",Or(n,28,i))})};class Gr extends Vr{constructor(t){super(t),Ie(this,st),Ie(this,ot),Ie(this,ht),Ie(this,dt),Ie(this,pt)}shrinkOrg(t){cr(`#org_ball_${this.index}_${t}`).off().on("click",()=>{this.spreadOrg(t)});const e=kr(this.info),r=e.height,i=Cr(this.index,t,"org","delete");this.dataStore.data.updatePart(this.index,i),je(this,st,nt).call(this,r),je(this,ot,lt).call(this);const a=this.info.data[t].addup,s={x:this.trunkRoot.x+a/Nr(75),y:this.trunkRoot.y+(this.upper?-a:a)},n=je(this,ht,ct).call(this,s,e,t),o=je(this,dt,xt).call(this,n,e,t);je(this,pt,_t).call(this,o,t)}}st=new WeakSet,nt=function(t){Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:e,y:r}=this.trunkRoot;this.upper?cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r-t}, ${e+5} ${r}, ${e} ${r}`):cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r+t}, ${e+5} ${r}, ${e} ${r}`)})},ot=new WeakSet,lt=function(){const t=Math.min(this.info.height,this.svgStore.maxHeight),e=this.trunkRoot.x+t/Nr(75),r=this.trunkRoot.y+(this.upper?-t:t);cr(`#more_${this.index}`).attr({transform:`translate(${e-40}, ${this.upper?r-40:r+10})`}),this.info.data.forEach((t,e)=>{const r=Boolean(e%2==0);Sr(this.index,e);const i={x:this.trunkRoot.x+t.addup/Nr(75),y:this.trunkRoot.y+(this.upper?-t.addup:t.addup)},a={cx:i.x+(r?-80:80),cy:i.y-24};cr(`#ball_${this.index}_${e}`).css(a),cr(`#ball-ci_${this.index}_${e}`).attr({x:a.cx-3,y:a.cy-1}),cr(`#branch1_${this.index}_${e}`).attr("d",Tr(i,80,r)),cr(`#title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-8})})},ht=new WeakSet,ct=function(t,e,r){const i=Boolean(r%2==0);Sr(this.index,r);const a={y:t.y-25,x:t.x+(i?-45:45)},s=cr(`#branch2_${this.index}_${r}`);return Wr(e.data[r].height-15,this.info.data[r].height-15,t=>{s.attr("points",Rr(a,t,this.upper))}),a},dt=new WeakSet,xt=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)},n=6*gr[this.index].data[r].org.length.toString().length,o={x:s.x+(i?-71:65-n),y:s.y+9};cr(`#org_ball_${this.index}_${r}`).css(o),cr(`#org_ball_text_${this.index}_${r}`).attr({x:o.x+3.5,y:o.y+9}).off().on("click",()=>{this.spreadOrg(r)}),cr(`#branchorg_${this.index}_${r}`).attr("d",Mr(s,67,a));const l={x:s.x+(i?-75:75),y:s.y+20};cr(`#branchorg_${this.index}_${r}_name`).attr(l);const h=e.data[r].org,c=32*h.length+12+15,d=32*this.info.data[r].org.length+12+15,x={y:s.y+16,x:s.x+(i?-36:36)};let p=cr(`#branchorg_${this.index}_${r}_trunk`);return Wr(c-15,d-15,t=>{p.attr("points",Ar(x,t,this.upper))}),null==h||h.forEach((t,e)=>{cr(`#branchorg_${this.index}_${r}_${e}_text`).remove();const i=32*(e+.5),s={y:x.y+i,x:x.x+(this.upper?-i:i)/Nr(75)};let n=cr(`#branchorg_${this.index}_${r}_${e}`);n.attr("d",Or(s,28,a)),Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>n.remove())}),s},pt=new WeakSet,_t=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a={y:t.y+27,x:t.x+(this.upper?-27:27)/Nr(75)},s=6*gr[this.index].data[e].org.length.toString().length,n={x:a.x+(r?-71:65-s),y:a.y+9};cr(`#pre_ball_${this.index}_${e}`).css(n),cr(`#pre_ball_text_${this.index}_${e}`).attr({x:n.x+3.5,y:n.y+9}),cr(`#branchpre_${this.index}_${e}`).attr("d",Mr(a,67,i));const o={x:a.x+(r?-75:75),y:a.y+20};cr(`#branchpre_${this.index}_${e}_name`).attr(o);const l={y:a.y+16,x:a.x+(r?-36:36)},h=this.info.data[e].pre,c=32*h.length+12+15;cr(`#branchpre_${this.index}_${e}_trunk`).attr("points",Ar(l,c-15,this.upper)),h.forEach((t,a)=>{const s=32*(a+.5),n={y:l.y+s,x:l.x+(this.upper?-s:s)/Nr(75)};cr(`#branchpre_${this.index}_${e}_${a}_text`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21}),cr(`#branchpre_${this.index}_${e}_${a}`).attr("d",Or(n,28,i))})};class Qr extends Gr{constructor(t){super(t),Ie(this,$t),Ie(this,yt),Ie(this,ft),Ie(this,kt),Ie(this,wt)}spreadPre(t){cr(`#pre_ball_${this.index}_${t}`).off().on("click",()=>{this.shrinkPre(t)});const e=kr(this.info),r=e.height,i=Cr(this.index,t,"pre","get");this.dataStore.data.updatePart(this.index,i),je(this,$t,ut).call(this,r),je(this,yt,gt).call(this);const a=this.info.data[t].addup,s={x:this.trunkRoot.x+a/Nr(75),y:this.trunkRoot.y+(this.upper?-a:a)},n=je(this,ft,mt).call(this,s,e,t),o=je(this,kt,bt).call(this,n,t);je(this,wt,St).call(this,o,t)}}$t=new WeakSet,ut=function(t){const e=cr(`#trunk_${this.index}`);Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:r,y:i}=this.trunkRoot;this.upper?e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i-t}, ${r+5} ${i}, ${r} ${i}`):e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i+t}, ${r+5} ${i}, ${r} ${i}`)})},yt=new WeakSet,gt=function(){const t=Math.min(this.info.height,this.svgStore.maxHeight),e=this.trunkRoot.x+t/Nr(75),r=this.trunkRoot.y+(this.upper?-t:t);cr(`#more_${this.index}`).attr({transform:`translate(${e-40}, ${this.upper?r-40:r+10})`}),this.info.data.forEach((t,e)=>{const r=Boolean(e%2==0),i={x:this.trunkRoot.x+t.addup/Nr(75),y:this.trunkRoot.y+(this.upper?-t.addup:t.addup)},a={cx:i.x+(r?-80:80),cy:i.y-24};cr(`#ball_${this.index}_${e}`).css(a),cr(`#ball-ci_${this.index}_${e}`).attr({x:a.cx-3,y:a.cy-1}),cr(`#branch1_${this.index}_${e}`).attr("d",Tr(i,80,r)),cr(`#title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-8})})},ft=new WeakSet,mt=function(t,e,r){const i=Boolean(r%2==0),a={x:t.x+(i?-45:45),y:t.y-25},s=cr(`#branch2_${this.index}_${r}`);return Wr(e.data[r].height-15,this.info.data[r].height-15,t=>{s.attr("points",Rr(a,t,this.upper))}),a},kt=new WeakSet,bt=function(t,e){const r=Boolean(e%2==0),i=Sr(this.index,e),a={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)},s=6*gr[this.index].data[e].org.length.toString().length,n={x:a.x+(r?-71:65-s),y:a.y+9};cr(`#org_ball_${this.index}_${e}`).css(n),cr(`#org_ball_text_${this.index}_${e}`).attr({x:n.x+3.5,y:n.y+9}),cr(`#branchorg_${this.index}_${e}`).attr("d",Mr(a,67,i));const o={y:a.y+20,x:a.x+(r?-75:75)};cr(`#branchorg_${this.index}_${e}_name`).attr(o);const l=this.info.data[e].org,h=32*l.length+12+15,c={y:a.y+16,x:a.x+(r?-36:36)};return cr(`#branchorg_${this.index}_${e}_trunk`).attr("points",Ar(c,h-15,this.upper)),null==l||l.forEach((t,a)=>{const s=32*(a+.5),n={y:c.y+s,x:c.x+(this.upper?-s:s)/Nr(75)};cr(`#branchorg_${this.index}_${e}_${a}_text`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21}),cr(`#branchorg_${this.index}_${e}_${a}`).attr("d",Or(n,28,i))}),a},wt=new WeakSet,St=function(t,e){const r=Sr(this.index,e),i=Boolean(e%2==0),a=32*this.info.data[e].org.length+12+15,s={y:t.y+a,x:t.x+(this.upper?-a:a)/Nr(75)},n=6*gr[this.index].data[e].org.length.toString().length,o={x:s.x+(i?-71:65-n),y:s.y+9};cr(`#pre_ball_${this.index}_${e}`).css(o),cr(`#pre_ball_text_${this.index}_${e}`).attr({x:o.x+3.5,y:o.y+9}).off().on("click",()=>{this.shrinkPre(e)}),cr(`#branchpre_${this.index}_${e}`).attr("d",Mr(s,67,r));const l={x:s.x+(i?-75:75),y:s.y+20};cr(`#branchpre_${this.index}_${e}_name`).attr(l);const h={y:s.y+16,x:s.x+(i?-36:36)},c=this.info.data[e].pre,d=32*c.length+12+15;let x=cr(`#branchpre_${this.index}_${e}_trunk`);Wr(12,d-15,t=>{x.attr("points",Ar(h,t,this.upper))}),c.forEach((t,a)=>{const s=cr(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("id",`branchpre_${this.index}_${e}_${a}`).css({fill:"#254373"}).appendTo(`#group_${this.index}`),n=32*(a+.5),o={y:h.y+n,x:h.x+(this.upper?-n:n)/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(o,t,r))}).then(()=>{cr(document.createElementNS("http://www.w3.org/2000/svg","text")).attr({id:`branchpre_${this.index}_${e}_${a}_text`,x:o.x+(i?-120:120)/Nr(75),y:o.y+21}).css({fontSize:14,fill:"#fff",strokeWidth:1,transformBox:"fill-box",transformOrigin:"0% 0%",transform:i?"translateX(-100%)":"none",font:"normal normal 500 14px / 14px Source Han Sans CN - Medium, Source Han Sans CN"}).text(t).appendTo(`#group_${this.index}`)})})};class Ur extends Qr{constructor(t){super(t),Ie(this,vt),Ie(this,Ct),Ie(this,Wt),Ie(this,Ft),Ie(this,Tt)}shrinkPre(t){cr(`#pre_ball_${this.index}_${t}`).off().on("click",()=>{this.spreadPre(t)});const e=kr(this.info),r=e.height,i=Cr(this.index,t,"pre","delete");this.dataStore.data.updatePart(this.index,i),je(this,vt,Bt).call(this,r),je(this,Ct,Dt).call(this),Sr(this.index,t);const a=this.info.data[t].addup,s={x:this.trunkRoot.x+a/Nr(75),y:this.trunkRoot.y+(this.upper?-a:a)},n=je(this,Wt,Et).call(this,s,e,t),o=je(this,Ft,Nt).call(this,n,e,t);je(this,Tt,Rt).call(this,o,e,t)}}vt=new WeakSet,Bt=function(t){Wr(t,Math.min(this.info.height,this.svgStore.maxHeight),t=>{const{x:e,y:r}=this.trunkRoot;this.upper?cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r-t}, ${e+5} ${r}, ${e} ${r}`):cr(`#trunk_${this.index}`).attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r+t}, ${e+5} ${r}, ${e} ${r}`)})},Ct=new WeakSet,Dt=function(){const t=Math.min(this.info.height,this.svgStore.maxHeight),e=this.trunkRoot.x+t/Nr(75),r=this.trunkRoot.y+(this.upper?-t:t);cr(`#more_${this.index}`).attr({transform:`translate(${e-40}, ${this.upper?r-40:r+10})`}),this.info.data.forEach((t,e)=>{const r=Boolean(e%2==0);Sr(this.index,e);const i={x:this.trunkRoot.x+t.addup/Nr(75),y:this.trunkRoot.y+(this.upper?-t.addup:t.addup)},a={cx:i.x+(r?-80:80),cy:i.y-24};cr(`#ball_${this.index}_${e}`).css(a),cr(`#ball-ci_${this.index}_${e}`).attr({x:a.cx-3,y:a.cy-1}),cr(`#branch1_${this.index}_${e}`).attr("d",Tr(i,80,r)),cr(`#title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-28}),cr(`#news_title_${this.index}_${e}`).attr({x:i.x+(r?-92:92),y:i.y-8})})},Wt=new WeakSet,Et=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=cr(`#branch2_${this.index}_${r}`);return Wr(e.data[r].height-15,this.info.data[r].height-15,t=>{s.attr("points",Rr(a,t,this.upper))}),a},Ft=new WeakSet,Nt=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s={y:t.y+26,x:t.x+(this.upper?-26:26)/Nr(75)},n=6*gr[this.index].data[r].org.length.toString().length,o={x:s.x+(i?-71:65-n),y:s.y+9};cr(`#org_ball_${this.index}_${r}`).css(o),cr(`#org_ball_text_${this.index}_${r}`).attr({x:o.x+3.5,y:o.y+9}),cr(`#branchorg_${this.index}_${r}`).attr("d",Mr(s,65,a));const l={y:s.y+20,x:s.x+(i?-75:75)};cr(`#branchorg_${this.index}_${r}_name`).attr(l);const h=e.data[r].org,c=32*h.length+12+15,d={y:s.y+16,x:s.x+(i?-36:36)};return cr(`#branchorg_${this.index}_${r}_trunk`).attr("points",Ar(d,c-15,this.upper)),null==h||h.forEach((t,e)=>{const s=32*(e+.5),n={y:d.y+s,x:d.x+(this.upper?-s:s)/Nr(75)};cr(`#branchorg_${this.index}_${r}_${e}_text`).attr({x:n.x+(i?-120:120)/Nr(75),y:n.y+21}),cr(`#branchorg_${this.index}_${r}_${e}`).attr("d",Or(n,28,a))}),s},Tt=new WeakSet,Rt=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s=32*e.data[r].org.length+12+15,n={y:t.y+s,x:t.x+(this.upper?-s:s)/Nr(75)},o=6*gr[this.index].data[r].org.length.toString().length,l={x:n.x+(i?-71:65-o),y:n.y+9};cr(`#pre_ball_${this.index}_${r}`).css(l),cr(`#pre_ball_text_${this.index}_${r}`).attr({x:l.x+3.5,y:l.y+9}).off().on("click",()=>{this.spreadPre(r)}),cr(`#branchpre_${this.index}_${r}`).attr("d",Mr(n,65,a));const h={};switch(a){case 1:case 4:h.x=n.x+75,h.y=n.y+20;break;case 2:case 3:h.x=n.x-75,h.y=n.y+20}cr(`#branchpre_${this.index}_${r}_name`).attr(h);let c=cr(`#branchpre_${this.index}_${r}_trunk`);const d={y:n.y+16,x:n.x+(i?-36:36)},x=e.data[r].pre,p=32*x.length+12+15;Wr(p-15,12,t=>{c.attr("points",Ar(d,t,this.upper))}),x.forEach((t,e)=>{cr(`#branchpre_${this.index}_${r}_${e}_text`).remove();const i=cr(`#branchpre_${this.index}_${r}_${e}`),s=32*(e+.5),n={y:d.y+s,x:d.x+(this.upper?-s:s)/Nr(75)};Wr(28,0,t=>{i.attr("d",Or(n,t,a))}).then(()=>i.remove())})};class Ir{constructor(t,e){Ge(this,"currentData",{data:[]}),Ge(this,"root",{x:0,y:0}),Ge(this,"center",{x:0,y:0}),Ge(this,"branchOneCollection",new Map),Ge(this,"mount",null),Ge(this,"panzoom",null),Ge(this,"markNavAim",{index:-1,name:"",update:({name:t,index:e})=>{this.markNavAim.name=t,this.markNavAim.index=e},init:()=>{this.markNavAim.update({index:-1,name:""})}}),this.index=t,this.template=kr(e),this.templateShadw=kr(e),this.svgStore=yr(),this.dataStore=br()}updateCurrentData(){const t=(t=>{const e=kr(t);let r=0,i=0;return e.data.map((t,e)=>{var a;const s=Sr(0,e);let n=0;return n=t.org&&t.pre?32*((null==(a=t.org)?void 0:a.length)+(null==t?void 0:t.pre.length))+106:60,t.height=n,[2,3].includes(s)?(r+=n,r===i&&(r+=30),t.addup=r):(i+=n,r===i&&(i+=30),t.addup=i),t}),e.height=Math.max(r,i)+40,e})(this.templateShadw);return this.currentData=t,this.currentData}}class jr extends Ir{constructor(t,e){super(t,e),Ie(this,Mt),Ie(this,Ot),Ie(this,Pt),Ie(this,Xt),Ie(this,Vt),Ie(this,Qt),Ie(this,It),Ie(this,qt)}displayDetail(){var t,e;if(this.mount)return void xr({type:"info",message:"正在展示详情"});null==(t=cr("#complate-tree-warp").find(".close")[0])||t.click(),null==(e=this.mount)||e.remove(),this.mount=null;const r=this.updateCurrentData(),i=this,a=cr('<div class="complate-warp" id="complate-tree-warp">').append(cr('<header class="header">').append(cr(`<span class="text">${this.currentData.time}(${this.currentData.ty})</span>`)).append(cr('<i class="close">').on("click",()=>{a.fadeOut("slow",function(){var t;null==(t=i.mount)||t.remove(),i.mount=null,i.markNavAim.init(),cr(this).remove(),i.templateShadw=kr(i.template),i.updateCurrentData()})}))).append(cr('<div class="split-line">')).append(cr(`<div class="tree-warp" id="detail_warp_${this.index}">`).on("click",()=>je(this,Ot,Ht).call(this))).hide().appendTo("#app").fadeIn(),s=cr(`#detail_warp_${this.index}`);this.root={x:s.width()/2,y:s.height()-150},this.center={x:s.width()/2,y:s.height()/2};const n=Dr("svg").addClass("complate-svg"),o=Dr("g").addClass("complate-svg-g");this.mount=o;const l=Dr("polygon").attr("mark","trunk").css({fill:"url(#trunk-t-defs)"}).appendTo(o);je(this,Xt,Lt).call(this),Wr(0,r.height,t=>{const{x:e,y:r}=this.root;l.attr("points",`${e-5} ${r},  ${e+t/Nr(75)} ${r-t}, ${e+5} ${r}, ${e} ${r}`),je(this,Pt,zt).call(this,t,l)}).then(()=>{this.branchOneCollection.clear()}),n.append(o).appendTo(`#detail_warp_${this.index}`),this.panzoom=dr(o[0])}navToDetail(t,e){if(this.markNavAim.update({index:t,name:e}),this.mount){const r=cr(`[mark="${e}_${t}"]`),[i,a]=[r.attr("x"),r.attr("y")],[s,n]=[this.center.x-i,this.center.y-a];return this.panzoom.smoothMoveTo(s,n),je(this,Ot,Ht).call(this),void je(this,Mt,At).call(this,t,e)}this.displayDetail()}}Mt=new WeakSet,At=function(t,e){var r;cr(`[mark="${e}_${t}_branch"]`).css({fill:"#5bd9ff"}),cr(`[mark="${e}_${t}"]`).css({fill:"#ec8a69"}),cr(`[mark="${e}_${t}_trunk"]`).css({fill:"#5bd9ff"}),null==(r=this.currentData.data[t][e])||r.forEach((r,i)=>{cr(`[mark="${e}_${t}_${i}_branch"]`).css({fill:"#5bd9ff"})})},Ot=new WeakSet,Ht=function(){this.currentData.data.forEach((t,e)=>{const r=Boolean(e%2==0);cr(`[mark="pre_${e}_branch"]`).css({fill:r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}),cr(`[mark="org_${e}_branch"]`).css({fill:r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}),cr(`[mark="pre_${e}"]`).css({fill:"#A1DDFF"}),cr(`[mark="org_${e}"]`).css({fill:"#A1DDFF"}),cr(`[mark="pre_${e}_trunk"]`).css({fill:"url(#br-two-t-defs)"}),cr(`[mark="org_${e}_trunk"]`).css({fill:"url(#br-two-t-defs)"});const{org:i,pre:a}=t;null==i||i.forEach((t,r)=>{cr(`[mark="org_${e}_${r}_branch"]`).css({fill:"#254373"})}),null==a||a.forEach((t,r)=>{cr(`[mark="pre_${e}_${r}_branch"]`).css({fill:"#254373"})})})},Pt=new WeakSet,zt=function(t,e){this.currentData.data.forEach((r,i)=>{if(this.branchOneCollection.has(i)||t<=r.addup)return;this.branchOneCollection.set(i,!0);let a={x:this.root.x+r.addup/Nr(75)};a.y=this.root.y-r.addup;const s=Boolean(i%2==0),n=Dr("path").attr("mark",`branch1_${i}`).css({fill:s?"url(#br-one-lt-defs)":"url(#br-one-lrt-defs)"}).insertAfter(e);let o=!0;Wr(0,80,t=>{n.attr("d",Tr(a,t,s)),t>=45&&o&&(o=!1,je(this,Qt,Ut).call(this,a,i))},5).then(()=>{je(this,Vt,Gt).call(this,a,r,i)})})},Xt=new WeakSet,Lt=function(){const t=this;this.currentData.data.forEach((e,r)=>{let i={x:this.root.x+e.addup/Nr(75)};i.y=this.root.y-e.addup;const a=Boolean(r%2==0),s=i.x+(a?-80:80),n=i.y-24;Dr("rect").attr({mark:`ball-ci_${r}`,x:s-3,y:n-1,height:2,width:6,rx:0}).css({fill:"#73BCF9",cursor:"pointer"}).on("click",function(){t.shrinkBranch(r)}).insertAfter(Dr("circle").attr({mark:`ball_${r}`}).css({cx:s,cy:n,r:6,filter:"none",fill:"#020C1C",strokeWidth:1,stroke:"#73BCF9",cursor:"pointer"}).on("click",function(){t.shrinkBranch(r)}).appendTo(this.mount))})},Vt=new WeakSet,Gt=function(t,e,r){const i=Boolean(r%2==0);Dr("text").attr({mark:`title_${r}`,x:t.x+(i?-92:92),y:t.y-28}).addClass("b-title").css({fill:"#C4F8FF",transform:i?"translateX(-100%)":"none",cursor:"pointer"}).text(e.title).hover(function(){cr(this).css({fill:"#ec8a69"})},function(){cr(this).css({fill:"#C4F8FF"})}).on("click",()=>{this.showDetailDialog(r)}).appendTo(this.mount),Dr("text").attr({mark:`news_title_${r}`,x:t.x+(i?-92:92),y:t.y-8}).addClass("b-title").css({fill:"#fff",transform:i?"translateX(-100%)":"none",cursor:"pointer"}).text(e.news_title).hover(function(){cr(this).css({fill:"#ec8a69"})},function(){cr(this).css({fill:"#fff"})}).on("click",()=>{this.showDetailDialog(r)}).appendTo(this.mount)},Qt=new WeakSet,Ut=function(t,e){const r=32*this.currentData.data[e].org.length+26+12+15,i=Boolean(e%2==0),a=Dr("polygon").attr({mark:`trunk_${e}`}).css({fill:"url(#br-two-t-defs)"}).appendTo(this.mount);let s=!0,n=!0,{x:o,y:l}=t;o+=i?-45:45,l-=25,Wr(0,this.currentData.data[e].height-15,t=>{a.attr("points",Rr({x:o,y:l},t,!0)),t>=26&&n&&(n=!1,je(this,It,jt).call(this,{x:o,y:l},e)),t>=r&&s&&(s=!1,je(this,qt,Jt).call(this,{x:o,y:l},e))})},It=new WeakSet,jt=function(t,e){const r=Sr(0,e),i=Boolean(e%2==0),a={y:t.y+26,x:t.x-26/Nr(75)};let s=!1;if(this.markNavAim.index===e&&"org"===this.markNavAim.name){s=!0;const t=this.center.x-a.x+(i?70:-70),e=this.center.y-a.y;this.panzoom.smoothMoveTo(t,e),this.markNavAim.init()}const n=this.template.data[e].org,o=6*n.length.toString().length,l={x:a.x+(i?-71:65-o),y:a.y+9},h=Dr("rect").attr({mark:`org_ball_${e}`}).css({...l,rx:6,width:6+o,height:12,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).appendTo(this.mount);Dr("text").attr({mark:`org_ball_${e}_text`,x:l.x+3.5,y:l.y+9.5}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).text(n.length).appendTo(this.mount);let c=Dr("path").attr("mark",`org_${e}_branch`).css({fill:s?"#5bd9ff":i?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(h);Wr(0,65,t=>{c.attr("d",Mr(a,t,r))});const d={y:a.y+16,x:a.x+(i?-36:36)},x=this.currentData.data[e].org,p=32*x.length+12+15;let _=Dr("polygon").attr("mark",`org_${e}_trunk`).css({fill:s?"#5bd9ff":"url(#br-two-t-defs)"}).appendTo(this.mount);Wr(0,p-15,t=>{_.attr("points",Ar(d,t,!0))}).then(()=>{let t=a.x+(i?-75:75),r=a.y+20;Dr("text").attr({x:t,y:r,mark:`org_${e}`}).addClass("b-title").css({fill:s?"#ec8a69":"#A1DDFF",transform:i?"translateX(-100%)":"none"}).text("组织").appendTo(this.mount)}),x.forEach((t,a)=>{const n=Dr("path").attr("mark",`org_${e}_${a}_branch`).css({fill:s?"#5bd9ff":"#254373"}).appendTo(this.mount),o=32*(a+.5),l={y:d.y+o,x:d.x-o/Nr(75)};Wr(0,28,t=>{n.attr("d",Or(l,t,r))}).then(()=>{Dr("text").attr({mark:`org_${e}_${a}`,x:l.x+(i?-120:120)/Nr(75),y:l.y+21}).addClass("b-title").css({fill:"#fff",transform:i?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})},qt=new WeakSet,Jt=function(t,e){const r=Boolean(e%2==0),i=Sr(0,e),a=32*this.currentData.data[e].org.length+12+15+26,s={y:t.y+a,x:t.x-a/Nr(75)};let n=!1;if(this.markNavAim.index===e&&"pre"===this.markNavAim.name){n=!0;const t=this.center.x-s.x+(r?70:-70),e=this.center.y-s.y;this.panzoom.smoothMoveTo(t,e),this.markNavAim.init()}const o=this.template.data[e].pre,l=6*o.length.toString().length,h={x:s.x+(r?-71:65-l),y:s.y+9},c=Dr("rect").attr({mark:`pre_ball_${e}`}).css({...h,rx:6,width:6+l,height:12,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).appendTo(this.mount);Dr("text").attr({mark:`pre_ball_${e}_text`,x:h.x+3.5,y:h.y+9.5}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).text(o.length).appendTo(this.mount);let d=Dr("path").attr("mark",`pre_${e}_branch`).css({fill:n?"#5bd9ff":r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(c);Wr(0,65,t=>{d.attr("d",Mr(s,t,i))}).then(()=>{let t=s.x+(r?-75:75),i=s.y+20;Dr("text").attr({x:t,y:i,mark:`pre_${e}`}).addClass("b-title").css({fill:n?"#ec8a69":"#A1DDFF",transform:r?"translateX(-100%)":"none"}).text("人员").appendTo(this.mount)});const x={y:s.y+16,x:s.x+(r?-36:36)},p=this.currentData.data[e].pre,_=32*p.length+12+15;let $=Dr("polygon").attr("mark",`pre_${e}_trunk`).css({fill:n?"#5bd9ff":"url(#br-two-t-defs)"}).appendTo(this.mount);Wr(0,_-15,t=>{$.attr("points",Ar(x,t,!0))}),p.forEach((t,a)=>{const s=Dr("path").attr("mark",`pre_${e}_${a}_branch`).css({fill:n?"#5bd9ff":"#254373"}).appendTo(this.mount),o=32*(a+.5),l={y:x.y+o,x:x.x-o/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(l,t,i))}).then(()=>{Dr("text").attr({mark:`pre_${e}_${a}`,x:l.x+(r?-120:120)/Nr(75),y:l.y+21}).addClass("b-title").css({fill:"#fff",transform:r?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})};class qr extends jr{constructor(t,e){super(t,e),Ie(this,Kt),Ie(this,Zt),Ie(this,ee),Ie(this,ie)}spreadBranch(t){this.templateShadw.data[t]=kr(this.template.data[t]);const e=kr(this.currentData),r=this.updateCurrentData(),{x:i,y:a}=this.root,s=cr('[mark="trunk"]');Wr(e.height,r.height,t=>{s.attr("points",`${i-5} ${a},  ${i+t/Nr(75)} ${a-t}, ${i+5} ${a}, ${i} ${a}`)}),je(this,Kt,Yt).call(this,t)}}Kt=new WeakSet,Yt=function(t){const e=this;this.currentData.data.forEach((r,i)=>{const a=Boolean(i%2==0),s=Sr(0,i),n={x:this.root.x+r.addup/Nr(75),y:this.root.y-r.addup},o={cx:n.x+(a?-80:80),cy:n.y-24};if(cr(`[mark="ball_${i}"]`).css(o),cr(`[mark="ball-ci_${i}"]`).attr({x:o.cx-3,y:o.cy-1}),cr(`[mark="branch1_${i}"]`).attr("d",Tr(n,80,a)),cr(`[mark="title_${i}"]`).attr({x:n.x+(a?-92:92),y:n.y-28}),cr(`[mark="news_title_${i}"]`).attr({x:n.x+(a?-92:92),y:n.y-8}),i===t)return Dr("rect").attr({mark:`ball-ci_${i}`,x:o.cx-3,y:o.cy-1,height:2,width:6,rx:0}).css({fill:"#73BCF9",cursor:"pointer"}).on("click",function(){e.shrinkBranch(i)}).insertAfter(cr(`[mark="ball_${i}"]`).css({filter:"none",fill:"#020C1C",strokeWidth:1,stroke:"#73BCF9"}).off().on("click",function(){e.shrinkBranch(i)})),void je(this,Zt,te).call(this,n,t);if(!r.org||!r.pre)return;const l={x:n.x+(a?-45:45),y:n.y-25},h=r.height-15;cr(`[mark="trunk_${i}"]`).attr("points",Rr(l,h,!0));const c={y:l.y+26,x:l.x-26/Nr(75)},d=6*r.org.length.toString().length,x={x:c.x+(a?-71:65-d),y:c.y+9};cr(`[mark="org_${i}"]`).attr({x:c.x+(a?-75:75),y:c.y+20}),cr(`[mark="org_ball_${i}"]`).css(x),cr(`[mark="org_ball_${i}_text"]`).attr({x:x.x+3.5,y:x.y+9.5}),cr(`[mark="org_${i}_branch"]`).attr("d",Mr(c,65,s));const p={y:c.y+16,x:c.x+(a?-36:36)},_=32*r.org.length+12;cr(`[mark="org_${i}_trunk"]`).attr("points",Ar(p,_,!0)),r.org.forEach((t,e)=>{const r=32*(e+.5),n={y:p.y+r,x:p.x-r/Nr(75)};cr(`[mark="org_${i}_${e}_branch"]`).attr("d",Or(n,28,s)),cr(`[mark="org_${i}_${e}"]`).attr({x:n.x+(a?-120:120)/Nr(75),y:n.y+21})});const $=_+15+26,u={y:l.y+$,x:l.x-$/Nr(75)};cr(`[mark="pre_${i}"]`).attr({x:u.x+(a?-75:75),y:u.y+20});const y=6*r.pre.length.toString().length,g={x:u.x+(a?-71:65-y),y:u.y+9};cr(`[mark="pre_ball_${i}"]`).css(g),cr(`[mark="pre_ball_${i}_text"]`).attr({x:g.x+3.5,y:g.y+9.5}),cr(`[mark="pre_${i}_branch"]`).attr("d",Mr(u,65,s));const f={y:u.y+16,x:u.x+(a?-36:36)},m=32*r.pre.length+12;cr(`[mark="pre_${i}_trunk"]`).attr("points",Ar(f,m,!0)),r.pre.forEach((t,e)=>{const r=32*(e+.5),n={y:f.y+r,x:f.x-r/Nr(75)};cr(`[mark="pre_${i}_${e}_branch"]`).attr("d",Or(n,28,s)),cr(`[mark="pre_${i}_${e}"]`).attr({x:n.x+(a?-120:120)/Nr(75),y:n.y+21})})})},Zt=new WeakSet,te=function(t,e){const r=32*this.currentData.data[e].org.length+26+12+15,i=Boolean(e%2==0),a=Dr("polygon").attr({mark:`trunk_${e}`}).css({fill:"url(#br-two-t-defs)"}).appendTo(this.mount);let s=!0,n=!0,{x:o,y:l}=t;o+=i?-45:45,l-=25,Wr(0,this.currentData.data[e].height-15,t=>{a.attr("points",Rr({x:o,y:l},t,!0)),t>=26&&n&&(n=!1,je(this,ee,re).call(this,{x:o,y:l},e)),t>=r&&s&&(s=!1,je(this,ie,ae).call(this,{x:o,y:l},e))})},ee=new WeakSet,re=function(t,e){const r=Sr(0,e),i=Boolean(e%2==0),a={y:t.y+26,x:t.x-26/Nr(75)};let s=!1;if(this.markNavAim.index===e&&"org"===this.markNavAim.name){s=!0;const t=this.center.x-a.x+(i?70:-70),e=this.center.y-a.y;this.panzoom.smoothMoveTo(t,e),this.markNavAim.init()}const n=this.template.data[e].org,o=6*n.length.toString().length,l={x:a.x+(i?-71:65-o),y:a.y+9},h=Dr("rect").attr({mark:`org_ball_${e}`}).css({...l,rx:6,width:6+o,height:12,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).appendTo(this.mount);Dr("text").attr({mark:`org_ball_${e}_text`,x:l.x+3.5,y:l.y+9.5}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkOrg(e)}).text(n.length).appendTo(this.mount);let c=Dr("path").attr("mark",`org_${e}_branch`).css({fill:s?"#5bd9ff":i?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(h);Wr(0,65,t=>{c.attr("d",Mr(a,t,r))});const d={y:a.y+16,x:a.x+(i?-36:36)},x=this.currentData.data[e].org,p=32*x.length+12+15;let _=Dr("polygon").attr("mark",`org_${e}_trunk`).css({fill:s?"#5bd9ff":"url(#br-two-t-defs)"}).appendTo(this.mount);Wr(0,p-15,t=>{_.attr("points",Ar(d,t,!0))}).then(()=>{let t=a.x+(i?-75:75),r=a.y+20;Dr("text").attr({x:t,y:r,mark:`org_${e}`}).addClass("b-title").css({fontWeight:"bolder",fill:s?"#ec8a69":"#A1DDFF",transform:i?"translateX(-100%)":"none"}).text("组织").appendTo(this.mount)}),x.forEach((t,a)=>{const n=Dr("path").attr("mark",`org_${e}_${a}_branch`).css({fill:s?"#5bd9ff":"#254373"}).appendTo(this.mount),o=32*(a+.5),l={y:d.y+o,x:d.x-o/Nr(75)};Wr(0,28,t=>{n.attr("d",Or(l,t,r))}).then(()=>{Dr("text").attr({mark:`org_${e}_${a}`,x:l.x+(i?-120:120)/Nr(75),y:l.y+21}).addClass("b-title").css({fill:"#fff",transform:i?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})},ie=new WeakSet,ae=function(t,e){const r=Boolean(e%2==0),i=Sr(0,e),a=32*this.currentData.data[e].org.length+12+15+26,s={y:t.y+a,x:t.x-a/Nr(75)};let n=!1;if(this.markNavAim.index===e&&"pre"===this.markNavAim.name){n=!0;const t=this.center.x-s.x+(r?70:-70),e=this.center.y-s.y;this.panzoom.smoothMoveTo(t,e),this.markNavAim.init()}const o=this.template.data[e].pre,l=6*o.length.toString().length,h={x:s.x+(r?-71:65-l),y:s.y+9},c=Dr("rect").attr({mark:`pre_ball_${e}`}).css({...h,rx:6,width:6+l,height:12,fill:"#020C1C",strokeWidth:1,stroke:"rgba(115,188,249,0.6)",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).appendTo(this.mount);Dr("text").attr({mark:`pre_ball_${e}_text`,x:h.x+3.5,y:h.y+9.5}).css({fill:"#73BCF9",fontSize:9,fontFamily:"Source Han Sans CN, Source Han Sans CN",fontWeight:300,color:"#73BCF9",cursor:"pointer"}).on("click",()=>{this.shrinkPre(e)}).text(o.length).appendTo(this.mount);let d=Dr("path").attr("mark",`pre_${e}_branch`).css({fill:n?"#5bd9ff":r?"url(#br-three-lt-defs)":"url(#br-three-rt-defs)"}).insertBefore(c);Wr(0,65,t=>{d.attr("d",Mr(s,t,i))}).then(()=>{let t=s.x+(r?-75:75),i=s.y+20;Dr("text").attr({x:t,y:i,mark:`pre_${e}`}).addClass("b-title").css({fill:n?"#ec8a69":"#A1DDFF",transform:r?"translateX(-100%)":"none"}).text("人员").appendTo(this.mount)});const x={y:s.y+16,x:s.x+(r?-36:36)},p=this.currentData.data[e].pre,_=32*p.length+12+15;let $=Dr("polygon").attr("mark",`pre_${e}_trunk`).css({fill:n?"#5bd9ff":"url(#br-two-t-defs)"}).appendTo(this.mount);Wr(0,_-15,t=>{$.attr("points",Ar(x,t,!0))}),null==p||p.forEach((t,a)=>{const s=Dr("path").attr("mark",`pre_${e}_${a}_branch`).css({fill:n?"#5bd9ff":"#254373"}).appendTo(this.mount),o=32*(a+.5),l={y:x.y+o,x:x.x-o/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(l,t,i))}).then(()=>{Dr("text").attr({mark:`pre_${e}_${a}`,x:l.x+(r?-120:120)/Nr(75),y:l.y+21}).addClass("b-title").css({fill:"#fff",transform:r?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})};class Jr extends qr{constructor(t,e){super(t,e),Ie(this,se),Ie(this,oe),Ie(this,he),Ie(this,de),Ie(this,pe)}shrinkBranch(t){const e=this,r=kr(this.currentData),i=r.height;delete this.templateShadw.data[t].org,delete this.templateShadw.data[t].pre,this.updateCurrentData(),je(this,se,ne).call(this,i),je(this,oe,le).call(this);const a=Sr(0,t),s=this.currentData.data[t].addup,n={x:this.root.x+s/Nr(75),y:this.root.y+([1,2].includes(a)?-s:s)};cr(`[mark="ball-ci_${t}"]`).off().remove(),cr(`[mark="ball_${t}"]`).css({fill:"url(#ball)",filter:"url(#ball-shadow)",strokeWidth:0,strok:"rgba(115,188,249,0.6)"}).off().on("click",function(){e.spreadBranch(t)});const o=je(this,he,ce).call(this,n,r,t),l=je(this,de,xe).call(this,o,r,t);je(this,pe,_e).call(this,l,r,t)}}se=new WeakSet,ne=function(t){const e=cr('[mark="trunk"]'),{x:r,y:i}=this.root;Wr(t,this.currentData.height,t=>{e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i-t}, ${r+5} ${i}, ${r} ${i}`)})},oe=new WeakSet,le=function(){this.currentData.data.forEach((t,e)=>{const r=Boolean(e%2==0),i=Sr(0,e),a={x:this.root.x+t.addup/Nr(75),y:this.root.y-t.addup},s={cx:a.x+(r?-80:80),cy:a.y-24};if(cr(`[mark="ball_${e}"]`).css(s),cr(`[mark="ball-ci_${e}"]`).attr({x:s.cx-3,y:s.cy-1}),cr(`[mark="branch1_${e}"]`).attr("d",Tr(a,80,r)),cr(`[mark="title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-28}),cr(`[mark="news_title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-8}),!t.pre||!t.org)return;const n={x:a.x+(r?-45:45),y:a.y-25},o=t.height-15;cr(`[mark="trunk_${e}"]`).attr("points",Rr(n,o,!0));const l={y:n.y+26,x:n.x-26/Nr(75)},h=6*t.org.length.toString().length,c={x:l.x+(r?-71:65-h),y:l.y+9};cr(`[mark="org_${e}"]`).attr({x:l.x+(r?-75:75),y:l.y+20}),cr(`[mark="org_ball_${e}"]`).css(c),cr(`[mark="org_ball_${e}_text"]`).attr({x:c.x+3.5,y:c.y+9.5}),cr(`[mark="org_${e}_branch"]`).attr("d",Mr(l,65,i));const d={y:l.y+16,x:l.x+(r?-36:36)},x=32*t.org.length+12;cr(`[mark="org_${e}_trunk"]`).attr("points",Ar(d,x,!0)),t.org.forEach((t,a)=>{const s=32*(a+.5),n={y:d.y+s,x:d.x-s/Nr(75)};cr(`[mark="org_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="org_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})});const p=x+15+26,_={y:n.y+p,x:n.x-p/Nr(75)};cr(`[mark="pre_${e}"]`).attr({x:_.x+(r?-75:75),y:_.y+20});const $=6*t.pre.length.toString().length,u={x:_.x+(r?-71:65-$),y:_.y+9};cr(`[mark="pre_ball_${e}"]`).css(u),cr(`[mark="pre_ball_${e}_text"]`).attr({x:u.x+3.5,y:u.y+9.5}),cr(`[mark="pre_${e}_branch"]`).attr("d",Mr(_,65,i));const y={y:_.y+16,x:_.x+(r?-36:36)},g=32*t.pre.length+12;cr(`[mark="pre_${e}_trunk"]`).attr("points",Ar(y,g,!0)),t.pre.forEach((t,a)=>{const s=32*(a+.5),n={y:y.y+s,x:y.x-s/Nr(75)};cr(`[mark="pre_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="pre_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})})})},he=new WeakSet,ce=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=cr(`[mark="trunk_${r}"]`);return Wr(e.data[r].height-15,0,t=>{s.attr("points",Rr(a,t,!0))}).then(()=>s.remove()),a},de=new WeakSet,xe=function(t,e,r){const i=Boolean(r%2==0),a=Sr(0,r),s={y:t.y+26,x:t.x-26/Nr(75)};cr(`[mark="org_ball_${r}"]`).remove(),cr(`[mark="org_ball_${r}_text"]`).remove();const n=cr(`[mark="org_${r}_branch"]`);Wr(65,0,t=>{n.attr("d",Mr(s,t,a))}).then(()=>n.remove());const o=e.data[r].org,l=32*o.length+12+15;cr(`[mark="org_${r}"]`).remove();const h={y:s.y+16,x:s.x+(i?-36:36)},c=cr(`[mark="org_${r}_trunk"]`);return Wr(l,0,t=>{c.attr("points",Ar(h,t,!0))}).then(()=>c.remove()),null==o||o.forEach((t,e)=>{cr(`[mark="org_${r}_${e}"]`).remove();const i=32*(e+.5),s={y:h.y+i,x:h.x-i/Nr(75)};let n=cr(`[mark="org_${r}_${e}_branch"]`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>cr(n).remove())}),s},pe=new WeakSet,_e=function(t,e,r){const i=Boolean(r%2==0),a=Sr(0,r),s=32*e.data[r].org.length+12+15,n={y:t.y+s,x:t.x-s/Nr(75)};cr(`[mark="pre_ball_${r}"]`).remove(),cr(`[mark="pre_ball_${r}_text"]`).remove(),cr(`[mark="pre_${r}"]`).remove();let o=cr(`[mark="pre_${r}_branch"]`);Wr(65,0,t=>{o.attr("d",Mr(n,t,a)).show()}).then(()=>o.remove());const l={y:n.y+16,x:n.x+(i?-36:36)},h=e.data[r].pre,c=32*h.length+12+15;let d=cr(`[mark="pre_${r}_trunk"]`);Wr(c-15,0,t=>{d.attr("points",Ar(l,t,!0)).show()}).then(()=>d.remove()),h.forEach((t,e)=>{cr(`[mark="pre_${r}_${e}"]`).remove();const i=32*(e+.5),s={y:l.y+i,x:l.x-i/Nr(75)},n=cr(`[mark="pre_${r}_${e}_branch"]`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>n.remove())})};class Kr extends Jr{constructor(t,e){super(t,e),Ie(this,$e),Ie(this,ye),Ie(this,fe)}spreadOrg(t){this.templateShadw.data[t].org=kr(this.template.data[t].org);const e=kr(this.currentData),r=this.updateCurrentData();cr(`[mark="org_ball_${t}"]`).off().on("click",()=>{this.shrinkOrg(t)}),cr(`[mark="org_ball_${t}_text"]`).off().on("click",()=>{this.shrinkOrg(t)});const{x:i,y:a}=this.root,s=cr('[mark="trunk"]');Wr(e.height,r.height,t=>{s.attr("points",`${i-5} ${a},  ${i+t/Nr(75)} ${a-t}, ${i+5} ${a}, ${i} ${a}`)});const n={x:this.root.x+r.data[t].addup/Nr(75),y:this.root.y-r.data[t].addup};je(this,ye,ge).call(this,n,t,e),je(this,$e,ue).call(this,t)}}$e=new WeakSet,ue=function(t){this.currentData.data.forEach((e,r)=>{const i=Boolean(r%2==0),a=Sr(0,r),s={x:this.root.x+e.addup/Nr(75),y:this.root.y-e.addup},n={cx:s.x+(i?-80:80),cy:s.y-24};if(cr(`[mark="ball_${r}"]`).css(n),cr(`[mark="ball-ci_${r}"]`).attr({x:n.cx-3,y:n.cy-1}),cr(`[mark="branch1_${r}"]`).attr("d",Tr(s,80,i)),cr(`[mark="title_${r}"]`).attr({x:s.x+(i?-92:92),y:s.y-28}),cr(`[mark="news_title_${r}"]`).attr({x:s.x+(i?-92:92),y:s.y-8}),r===t)return;const o={x:s.x+(i?-45:45),y:s.y-25},l=e.height-15;cr(`[mark="trunk_${r}"]`).attr("points",Rr(o,l,!0));const h={y:o.y+26,x:o.x-26/Nr(75)};if(!e.org)return;const c=6*e.org.length.toString().length,d={x:h.x+(i?-71:65-c),y:h.y+9};cr(`[mark="org_${r}"]`).attr({x:h.x+(i?-75:75),y:h.y+20}),cr(`[mark="org_ball_${r}"]`).css(d),cr(`[mark="org_ball_${r}_text"]`).attr({x:d.x+3.5,y:d.y+9.5}),cr(`[mark="org_${r}_branch"]`).attr("d",Mr(h,65,a));const x={y:h.y+16,x:h.x+(i?-36:36)},p=32*e.org.length+12;if(cr(`[mark="org_${r}_trunk"]`).attr("points",Ar(x,p,!0)),e.org.forEach((t,e)=>{const s=32*(e+.5),n={y:x.y+s,x:x.x-s/Nr(75)};cr(`[mark="org_${r}_${e}_branch"]`).attr("d",Or(n,28,a)),cr(`[mark="org_${r}_${e}"]`).attr({x:n.x+(i?-120:120)/Nr(75),y:n.y+21})}),!e.pre)return;const _=p+15+26,$={y:o.y+_,x:o.x-_/Nr(75)};cr(`[mark="pre_${r}"]`).attr({x:$.x+(i?-75:75),y:$.y+20});const u=6*e.pre.length.toString().length,y={x:$.x+(i?-71:65-u),y:$.y+9};cr(`[mark="pre_ball_${r}"]`).css(y),cr(`[mark="pre_ball_${r}_text"]`).attr({x:y.x+3.5,y:y.y+9.5}),cr(`[mark="pre_${r}_branch"]`).attr("d",Mr($,65,a));const g={y:$.y+16,x:$.x+(i?-36:36)},f=32*e.pre.length+12;cr(`[mark="pre_${r}_trunk"]`).attr("points",Ar(g,f,!0)),e.pre.forEach((t,e)=>{const s=32*(e+.5),n={y:g.y+s,x:g.x-s/Nr(75)};cr(`[mark="pre_${r}_${e}_branch"]`).attr("d",Or(n,28,a)),cr(`[mark="pre_${r}_${e}"]`).attr({x:n.x+(i?-120:120)/Nr(75),y:n.y+21})})})},ye=new WeakSet,ge=function(t,e,r){const i=r.data[e].height-15,a=this.currentData.data[e].height-15,s=Boolean(e%2==0),n=cr(`[mark="trunk_${e}"]`);let o=!0,{x:l,y:h}=t;l+=s?-45:45,h-=25,Wr(i,a,t=>{n.attr("points",Rr({x:l,y:h},t,!0)),t>=26&&o&&(o=!1,je(this,fe,me).call(this,{x:l,y:h},e))})},fe=new WeakSet,me=function(t,e){const r=Sr(0,e),i=Boolean(e%2==0),a={y:t.y+26,x:t.x-26/Nr(75)},s=6*this.template.data[e].org.length.toString().length,n={x:a.x+(i?-71:65-s),y:a.y+9};cr(`[mark="org_ball_${e}"]`).css(n),cr(`[mark="org_ball_${e}_text"]`).attr({x:n.x+3.5,y:n.y+9.5}),cr(`[mark="org_${e}_branch"`).attr("d",Mr(a,65,r));const o={y:a.y+16,x:a.x+(i?-36:36)},l=this.currentData.data[e].org,h=32*l.length+12,c=cr(`[mark="org_${e}_trunk"]`);Wr(0,h,t=>{c.attr("points",Ar(o,t,!0))}),cr(`[mark="org_${e}"]`).attr({x:a.x+(i?-75:75),y:a.y+20}),l.forEach((t,a)=>{const s=Dr("path").attr("mark",`org_${e}_${a}_branch`).css({fill:"#254373"}).appendTo(this.mount),n=32*(a+.5),l={y:o.y+n,x:o.x-n/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(l,t,r))}).then(()=>{Dr("text").attr({mark:`org_${e}_${a}`,x:l.x+(i?-120:120)/Nr(75),y:l.y+21}).addClass("b-title").css({fill:"#fff",transform:i?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})};class Yr extends Kr{constructor(t,e){super(t,e),Ie(this,ke),Ie(this,we),Ie(this,ve),Ie(this,Ce)}shrinkOrg(t){const e=kr(this.currentData),r=e.height;this.templateShadw.data[t].org=[],this.updateCurrentData(),cr(`[mark="org_ball_${t}"]`).off().on("click",()=>{this.spreadOrg(t)}),cr(`[mark="org_ball_${t}_text"]`).off().on("click",()=>{this.spreadOrg(t)}),je(this,ke,be).call(this,r),je(this,we,Se).call(this);const i=this.currentData.data[t].addup,a={x:this.root.x+i/Nr(75),y:this.root.y-i},s=je(this,ve,Be).call(this,a,e,t);je(this,Ce,De).call(this,s,e,t)}}ke=new WeakSet,be=function(t){const e=cr('[mark="trunk"]'),{x:r,y:i}=this.root;Wr(t,this.currentData.height,t=>{e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i-t}, ${r+5} ${i}, ${r} ${i}`)})},we=new WeakSet,Se=function(){this.currentData.data.forEach((t,e)=>{const r=Boolean(e%2==0),i=Sr(0,e),a={x:this.root.x+t.addup/Nr(75),y:this.root.y-t.addup},s={cx:a.x+(r?-80:80),cy:a.y-24};if(cr(`[mark="ball_${e}"]`).css(s),cr(`[mark="ball-ci_${e}"]`).attr({x:s.cx-3,y:s.cy-1}),cr(`[mark="branch1_${e}"]`).attr("d",Tr(a,80,r)),cr(`[mark="title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-28}),cr(`[mark="news_title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-8}),!t.org)return;const n={x:a.x+(r?-45:45),y:a.y-25},o=t.height-15;cr(`[mark="trunk_${e}"]`).attr("points",Rr(n,o,!0));const l={y:n.y+26,x:n.x-26/Nr(75)},h=6*t.org.length.toString().length,c={x:l.x+(r?-71:65-h),y:l.y+9};cr(`[mark="org_${e}"]`).attr({x:l.x+(r?-75:75),y:l.y+20}),cr(`[mark="org_ball_${e}"]`).css(c),cr(`[mark="org_ball_${e}_text"]`).attr({x:c.x+3.5,y:c.y+9.5}),cr(`[mark="org_${e}_branch"]`).attr("d",Mr(l,65,i));const d={y:l.y+16,x:l.x+(r?-36:36)},x=32*t.org.length+12;cr(`[mark="org_${e}_trunk"]`).attr("points",Ar(d,x,!0)),t.org.forEach((t,a)=>{const s=32*(a+.5),n={y:d.y+s,x:d.x-s/Nr(75)};cr(`[mark="org_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="org_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})});const p=x+15+26,_={y:n.y+p,x:n.x-p/Nr(75)};cr(`[mark="pre_${e}"]`).attr({x:_.x+(r?-75:75),y:_.y+20});const $=6*t.pre.length.toString().length,u={x:_.x+(r?-71:65-$),y:_.y+9};cr(`[mark="pre_ball_${e}"]`).css(u),cr(`[mark="pre_ball_${e}_text"]`).attr({x:u.x+3.5,y:u.y+9.5}),cr(`[mark="pre_${e}_branch"]`).attr("d",Mr(_,65,i));const y={y:_.y+16,x:_.x+(r?-36:36)},g=32*t.pre.length+12;cr(`[mark="pre_${e}_trunk"]`).attr("points",Ar(y,g,!0)),t.pre.forEach((t,a)=>{const s=32*(a+.5),n={y:y.y+s,x:y.x-s/Nr(75)};cr(`[mark="pre_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="pre_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})})})},ve=new WeakSet,Be=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=e.data[r].height-15,n=this.currentData.data[r].height-15,o=cr(`[mark="trunk_${r}"]`);return Wr(s,n,t=>{o.attr("points",Rr(a,t,!0))}),a},Ce=new WeakSet,De=function(t,e,r){const i=Boolean(r%2==0),a=Sr(this.index,r),s={y:t.y+26,x:t.x-26/Nr(75)},n=e.data[r].org,o=32*n.length+12,l={y:s.y+16,x:s.x+(i?-36:36)},h=cr(`[mark="org_${r}_trunk"]`);return Wr(o,12,t=>{h.attr("points",Ar(l,t,!0))}),null==n||n.forEach((t,e)=>{cr(`[mark="org_${r}_${e}"]`).remove();const i=32*(e+.5),s={y:l.y+i,x:l.x-i/Nr(75)};let n=cr(`[mark="org_${r}_${e}_branch"]`);Wr(28,0,t=>{n.attr("d",Or(s,t,a))}).then(()=>cr(n).remove())}),s};class Zr extends Yr{constructor(t,e){super(t,e),Ie(this,We),Ie(this,Fe),Ie(this,Te)}spreadPre(t){this.templateShadw.data[t].pre=kr(this.template.data[t].pre);const e=kr(this.currentData),r=this.updateCurrentData();cr(`[mark="pre_ball_${t}"]`).off().on("click",()=>{this.shrinkPre(t)}),cr(`[mark="pre_ball_${t}_text"]`).off().on("click",()=>{this.shrinkPre(t)});const{x:i,y:a}=this.root,s=cr('[mark="trunk"]');Wr(e.height,r.height,t=>{s.attr("points",`${i-5} ${a},  ${i+t/Nr(75)} ${a-t}, ${i+5} ${a}, ${i} ${a}`)});const n={x:this.root.x+r.data[t].addup/Nr(75),y:this.root.y-r.data[t].addup};je(this,Fe,Ne).call(this,n,t,e),je(this,We,Ee).call(this,t)}}We=new WeakSet,Ee=function(t){this.currentData.data.forEach((e,r)=>{const i=Boolean(r%2==0),a=Sr(0,r),s={x:this.root.x+e.addup/Nr(75),y:this.root.y-e.addup},n={cx:s.x+(i?-80:80),cy:s.y-24};cr(`[mark="ball_${r}"]`).css(n),cr(`[mark="ball-ci_${r}"]`).attr({x:n.cx-3,y:n.cy-1}),cr(`[mark="branch1_${r}"]`).attr("d",Tr(s,80,i)),cr(`[mark="title_${r}"]`).attr({x:s.x+(i?-92:92),y:s.y-28}),cr(`[mark="news_title_${r}"]`).attr({x:s.x+(i?-92:92),y:s.y-8});const o={x:s.x+(i?-45:45),y:s.y-25},l=e.height-15;if(cr(`[mark="trunk_${r}"]`).attr("points",Rr(o,l,!0)),!e.org)return;const h={y:o.y+26,x:o.x-26/Nr(75)},c=6*e.org.length.toString().length,d={x:h.x+(i?-71:65-c),y:h.y+9};cr(`[mark="org_${r}"]`).attr({x:h.x+(i?-75:75),y:h.y+20}),cr(`[mark="org_ball_${r}"]`).css(d),cr(`[mark="org_ball_${r}_text"]`).attr({x:d.x+3.5,y:d.y+9.5}),cr(`[mark="org_${r}_branch"]`).attr("d",Mr(h,65,a));const x={y:h.y+16,x:h.x+(i?-36:36)},p=32*e.org.length+12;if(cr(`[mark="org_${r}_trunk"]`).attr("points",Ar(x,p,!0)),e.org.forEach((t,e)=>{const s=32*(e+.5),n={y:x.y+s,x:x.x-s/Nr(75)};cr(`[mark="org_${r}_${e}_branch"]`).attr("d",Or(n,28,a)),cr(`[mark="org_${r}_${e}"]`).attr({x:n.x+(i?-120:120)/Nr(75),y:n.y+21})}),r===t)return;if(!e.pre)return;const _=p+15+26,$={y:o.y+_,x:o.x-_/Nr(75)};cr(`[mark="pre_${r}"]`).attr({x:$.x+(i?-75:75),y:$.y+20});const u=6*e.pre.length.toString().length,y={x:$.x+(i?-71:65-u),y:$.y+9};cr(`[mark="pre_ball_${r}"]`).css(y),cr(`[mark="pre_ball_${r}_text"]`).attr({x:y.x+3.5,y:y.y+9.5}),cr(`[mark="pre_${r}_branch"]`).attr("d",Mr($,65,a));const g={y:$.y+16,x:$.x+(i?-36:36)},f=32*e.pre.length+12;cr(`[mark="pre_${r}_trunk"]`).attr("points",Ar(g,f,!0)),e.pre.forEach((t,e)=>{const s=32*(e+.5),n={y:g.y+s,x:g.x-s/Nr(75)};cr(`[mark="pre_${r}_${e}_branch"]`).attr("d",Or(n,28,a)),cr(`[mark="pre_${r}_${e}"]`).attr({x:n.x+(i?-120:120)/Nr(75),y:n.y+21})})})},Fe=new WeakSet,Ne=function(t,e,r){const i=r.data[e].height-15,a=this.currentData.data[e].height-15,s=Boolean(e%2==0),n=cr(`[mark="trunk_${e}"]`);let o=!0,{x:l,y:h}=t;l+=s?-45:45,h-=25,Wr(i,a,t=>{n.attr("points",Rr({x:l,y:h},t,!0)),t>=i+26&&o&&(o=!1,je(this,Te,Re).call(this,{x:l,y:h},e))})},Te=new WeakSet,Re=function(t,e){const r=Boolean(e%2==0),i=Sr(0,e),a=32*this.currentData.data[e].org.length+12+15+26,s={y:t.y+a,x:t.x-a/Nr(75)},n=6*this.template.data[e].pre.length.toString().length,o={x:s.x+(r?-71:65-n),y:s.y+9};cr(`[mark="pre_ball_${e}"]`).css(o),cr(`[mark="pre_ball_${e}_text"]`).attr({x:o.x+3.5,y:o.y+9.5}),cr(`[mark="pre_${e}_branch"`).attr("d",Mr(s,65,i));const l={y:s.y+16,x:s.x+(r?-36:36)},h=this.currentData.data[e].pre,c=32*h.length+12,d=cr(`[mark="pre_${e}_trunk"]`);Wr(0,c,t=>{d.attr("points",Ar(l,t,!0))}),cr(`[mark="pre_${e}"]`).attr({x:s.x+(r?-75:75),y:s.y+20}),null==h||h.forEach((t,a)=>{const s=Dr("path").attr("mark",`pre_${e}_${a}_branch`).css({fill:"#254373"}).appendTo(this.mount),n=32*(a+.5),o={y:l.y+n,x:l.x-n/Nr(75)};Wr(0,28,t=>{s.attr("d",Or(o,t,i))}).then(()=>{Dr("text").attr({mark:`pre_${e}_${a}`,x:o.x+(r?-120:120)/Nr(75),y:o.y+21}).addClass("b-title").css({fill:"#fff",transform:r?"translateX(-100%)":"none"}).text(t).appendTo(this.mount)})})};class ti extends Zr{constructor(t,e){super(t,e),Ie(this,Me),Ie(this,Oe),Ie(this,Pe),Ie(this,Xe)}shrinkPre(t){const e=kr(this.currentData),r=e.height;this.templateShadw.data[t].pre=[],this.updateCurrentData(),cr(`[mark="pre_ball_${t}"]`).off().on("click",()=>{this.spreadPre(t)}),cr(`[mark="pre_ball_${t}_text"]`).off().on("click",()=>{this.spreadPre(t)}),je(this,Me,Ae).call(this,r),je(this,Oe,He).call(this);const i=this.currentData.data[t].addup,a={x:this.root.x+i/Nr(75),y:this.root.y-i},s=je(this,Pe,ze).call(this,a,e,t);je(this,Xe,Le).call(this,s,e,t)}}Me=new WeakSet,Ae=function(t){const e=cr('[mark="trunk"]'),{x:r,y:i}=this.root;Wr(t,this.currentData.height,t=>{e.attr("points",`${r-5} ${i},  ${r+t/Nr(75)} ${i-t}, ${r+5} ${i}, ${r} ${i}`)})},Oe=new WeakSet,He=function(){this.currentData.data.forEach((t,e)=>{const r=Boolean(e%2==0),i=Sr(0,e),a={x:this.root.x+t.addup/Nr(75),y:this.root.y-t.addup},s={cx:a.x+(r?-80:80),cy:a.y-24};if(cr(`[mark="ball_${e}"]`).css(s),cr(`[mark="ball-ci_${e}"]`).attr({x:s.cx-3,y:s.cy-1}),cr(`[mark="branch1_${e}"]`).attr("d",Tr(a,80,r)),cr(`[mark="title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-28}),cr(`[mark="news_title_${e}"]`).attr({x:a.x+(r?-92:92),y:a.y-8}),!t.pre)return;const n={x:a.x+(r?-45:45),y:a.y-25},o=t.height-15;cr(`[mark="trunk_${e}"]`).attr("points",Rr(n,o,!0));const l={y:n.y+26,x:n.x-26/Nr(75)},h=6*t.org.length.toString().length,c={x:l.x+(r?-71:65-h),y:l.y+9};cr(`[mark="org_${e}"]`).attr({x:l.x+(r?-75:75),y:l.y+20}),cr(`[mark="org_ball_${e}"]`).css(c),cr(`[mark="org_ball_${e}_text"]`).attr({x:c.x+3.5,y:c.y+9.5}),cr(`[mark="org_${e}_branch"]`).attr("d",Mr(l,65,i));const d={y:l.y+16,x:l.x+(r?-36:36)},x=32*t.org.length+12;cr(`[mark="org_${e}_trunk"]`).attr("points",Ar(d,x,!0)),t.org.forEach((t,a)=>{const s=32*(a+.5),n={y:d.y+s,x:d.x-s/Nr(75)};cr(`[mark="org_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="org_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})});const p=x+15+26,_={y:n.y+p,x:n.x-p/Nr(75)};cr(`[mark="pre_${e}"]`).attr({x:_.x+(r?-75:75),y:_.y+20});const $=6*t.pre.length.toString().length,u={x:_.x+(r?-71:65-$),y:_.y+9};cr(`[mark="pre_ball_${e}"]`).css(u),cr(`[mark="pre_ball_${e}_text"]`).attr({x:u.x+3.5,y:u.y+9.5}),cr(`[mark="pre_${e}_branch"]`).attr("d",Mr(_,65,i));const y={y:_.y+16,x:_.x+(r?-36:36)},g=32*t.pre.length+12;cr(`[mark="pre_${e}_trunk"]`).attr("points",Ar(y,g,!0)),t.pre.forEach((t,a)=>{const s=32*(a+.5),n={y:y.y+s,x:y.x-s/Nr(75)};cr(`[mark="pre_${e}_${a}_branch"]`).attr("d",Or(n,28,i)),cr(`[mark="pre_${e}_${a}"]`).attr({x:n.x+(r?-120:120)/Nr(75),y:n.y+21})})})},Pe=new WeakSet,ze=function(t,e,r){const i=Boolean(r%2==0),a={y:t.y-25,x:t.x+(i?-45:45)},s=e.data[r].height-15,n=this.currentData.data[r].height-15,o=cr(`[mark="trunk_${r}"]`);return Wr(s,n,t=>{o.attr("points",Rr(a,t,!0))}),a},Xe=new WeakSet,Le=function(t,e,r){const i=Boolean(r%2==0),a=Sr(0,r),s=32*e.data[r].org.length+12+15+26,n={y:t.y+s+16,x:t.x-s/Nr(75)+(i?-36:36)},o=e.data[r].pre,l=32*o.length+12,h=cr(`[mark="pre_${r}_trunk"]`);Wr(l,12,t=>{h.attr("points",Ar(n,t,!0))}),null==o||o.forEach((t,e)=>{cr(`[mark="pre_${r}_${e}"]`).remove();const i=32*(e+.5),s={y:n.y+i,x:n.x-i/Nr(75)},o=cr(`[mark="pre_${r}_${e}_branch"]`);Wr(28,0,t=>{o.attr("d",Or(s,t,a))}).then(()=>o.remove())})};let ei=class extends ti{constructor(t,e){super(t,e)}showDetailDialog(t){const e=this.template.data[t];this.dataStore.detailpanel.show({...e})}};class ri extends Ur{constructor(t){super(t),this.detail=new ei(t,gr[this.index])}displayDetail(){this.detail.displayDetail()}navToDetail(t,e){this.detail.navToDetail(t,e)}}class ii extends ri{constructor(t){super(t)}toTree(){}toSeed(){}}const ai=(t,e)=>{const r=t.__vccOpts||t;for(const[i,a]of e)r[i]=a;return r};const si=ai({},[["render",function(t,e){return Ze(),tr("defs",null,[...e[0]||(e[0]=[er("linearGradient",{id:"tail-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"rgba(89,123,190,0.32)","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#597BBE","stop-opacity":"1"}})],-1),er("path",{id:"bubble-text-defs",d:"M0 22, 155 22"},null,-1),er("linearGradient",{id:"trunk-t-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"rgba(2,12,28,0.58)","stop-opacity":"0.5"}}),er("stop",{offset:"100%",style:{"stop-color":"#3CA1FF","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-one-lt-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#7FBEF7","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"rgba(12,25,39,0.29)","stop-opacity":"0.5"}})],-1),er("linearGradient",{id:"br-one-lrt-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"rgba(12,25,39,0.29)","stop-opacity":"0.5"}}),er("stop",{offset:"100%",style:{"stop-color":"#7FBEF7","stop-opacity":"1"}})],-1),er("radialGradient",{id:"ball",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[er("stop",{offset:"0%",style:{"stop-color":"#0047FD"}}),er("stop",{offset:"100%",style:{"stop-color":"#5B8BB7"}})],-1),er("filter",{id:"ball-shadow",filterUnits:"userSpaceOnUse"},[er("feDropShadow",{dx:"0",dy:"0","flood-color":"#75b7f9"},[er("animate",{attributeName:"stdDeviation",dur:"3s",values:"15;5;15",repeatCount:"indefinite"})])],-1),er("linearGradient",{id:"br-two-t-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#3CA1FF","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#2E4A67","stop-opacity":"0.5"}})],-1),er("linearGradient",{id:"br-two-b-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#2E4A67","stop-opacity":"0.5"}}),er("stop",{offset:"100%",style:{"stop-color":"#3CA1FF","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-three-lt-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#7FBEF7","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"rgba(12,25,39,0.23)","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-three-rt-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"rgba(12,25,39,0.23)","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#7FBEF7","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-three-lt-light-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#658DF5","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#D6EBFF","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-three-rt-light-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#D6EBFF","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#658DF5","stop-opacity":"1"}})],-1),er("linearGradient",{id:"br-two-t-light-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#D6EBFF","stop-opacity":"1"}}),er("stop",{offset:"100%",style:{"stop-color":"#658DF5","stop-opacity":"0.5"}})],-1),er("linearGradient",{id:"br-two-b-light-defs",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[er("stop",{offset:"0%",style:{"stop-color":"#658DF5","stop-opacity":"0.5"}}),er("stop",{offset:"100%",style:{"stop-color":"#D6EBFF","stop-opacity":"1"}})],-1),er("filter",{id:"text-shadow",filterUnits:"userSpaceOnUse"},[er("feDropShadow",{dx:"0",dy:"0","flood-color":"#ffffff"},[er("animate",{attributeName:"stdDeviation",dur:"3s",values:"3;0;3",repeatCount:"indefinite"})])],-1)])])}]]),ni={class:"container"},oi={class:"center"},li={id:"screen"},hi=ai({__name:"main",setup(t){const e=yr(),r=br();r.data.update(vr(mr));const i=Je(()=>r.detailpanel),a=()=>{r.detailpanel.close()},s=new Map;rr(()=>r.current.value,()=>{r.data.update(vr(mr)),s.forEach(t=>{t.reform()})}),ir(()=>{const t=cr("#screen");e.updateSize({width:t.width(),height:t.height()}),(()=>{const{stroke:t,w:e,h:r}=wr;cr("#prevIcon").attr("points",`0 ${r/2}, ${e} 0,${e+t} 0, ${e} ${r/2}, ${e+t} ${r}, ${e} ${r}, 0 ${r/2}`),cr("#nextIcon").attr("points",`0 0, ${t} 0, ${e+t} ${r/2},${t} ${r}, 0 ${r}, ${t} ${r/2}, 0 0`)})(),(()=>{const t=yr(),e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),{width:r,height:i}=t.size,a=Math.ceil(i/2);cr(e).attr("points",`0 ${a-1}, ${r} ${a-1}, ${r} ${a+1}, 0 ${a+1}, 0 ${a-1}`).css({fill:"#254373"}).appendTo("#screen")})(),mr.forEach((t,e)=>{const r=new ii(e);r.init(),s.set(e,r)})});const n=()=>{r.current.update(Math.max(0,r.current.value-4))},o=()=>{r.current.update(Math.min(r.current.value+4,r.data.value.length-1))};return(t,e)=>{const r=_r,s=$r,l=ur,h=pr;return Ze(),tr(or,null,[er("main",ni,[er("aside",{class:"arrow-warp"},[er("svg",{class:"arrow-icon"},[er("polygon",{id:"prevIcon",onClick:n,class:"icon"})])]),er("section",oi,[(Ze(),tr("svg",li,[ar(si)]))]),er("aside",{class:"arrow-warp"},[er("svg",{class:"arrow-icon"},[er("polygon",{id:"nextIcon",onClick:o,class:"icon"})])])]),ar(h,{modelValue:nr(i).switch,"onUpdate:modelValue":e[4]||(e[4]=t=>nr(i).switch=t),title:"详情",width:"30%","destroy-on-close":"",center:"",onClose:a},{default:sr(()=>[ar(l,{"label-width":"100px",class:"demo-ruleForm"},{default:sr(()=>[ar(s,{label:"标题",prop:"title"},{default:sr(()=>[ar(r,{modelValue:nr(i).title,"onUpdate:modelValue":e[0]||(e[0]=t=>nr(i).title=t),type:"textarea",disabled:!0},null,8,["modelValue"])]),_:1}),ar(s,{label:"新闻标题",prop:"news_title"},{default:sr(()=>[ar(r,{modelValue:nr(i).news_title,"onUpdate:modelValue":e[1]||(e[1]=t=>nr(i).news_title=t),type:"textarea",disabled:!0},null,8,["modelValue"])]),_:1}),ar(s,{label:"组织",prop:"org"},{default:sr(()=>[ar(r,{modelValue:nr(i).org,"onUpdate:modelValue":e[2]||(e[2]=t=>nr(i).org=t),type:"textarea",disabled:!0},null,8,["modelValue"])]),_:1}),ar(s,{label:"人员",prop:"pre"},{default:sr(()=>[ar(r,{modelValue:nr(i).pre,"onUpdate:modelValue":e[3]||(e[3]=t=>nr(i).pre=t),type:"textarea",disabled:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-ea9736b2"]]),ci=lr();hr(hi).use(ci).mount("#app");